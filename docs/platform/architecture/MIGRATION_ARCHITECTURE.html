<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Migration Architecture</title>
    <meta name="description" content="Technical architecture for WooCommerce to BigCommerce migration">
    <!-- frontmatter
title: "Migration Architecture"
description: "Technical architecture for WooCommerce to BigCommerce migration"
category: "platform"
order: 1
-->
</head>
<body>

<h1>WooCommerce to BigCommerce Migration Architecture</h1>
<h2>Overview</h2>
<p>This document defines the technical architecture for a low-friction, highly-automated migration path from WooCommerce to BigCommerce while preserving WordPress.</p>
<p><strong>Goal:</strong> Make migration dramatically easier than BigCommerce&#39;s current reputation suggests.</p>
<hr>
<h2>Phase 1: Assessment Engine</h2>
<h3>What It Does</h3>
<p>Analyzes a WooCommerce store and produces a migration readiness report with effort estimates.</p>
<h3>Data Points to Collect</h3>
<table>
<thead>
<tr>
<th>Category</th>
<th>Data Point</th>
<th>Method</th>
<th>Complexity Signal</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Scale</strong></td>
<td>Product count</td>
<td>WC REST API <code>/products?per_page=1</code> (check headers)</td>
<td>&gt;10K = high</td>
</tr>
<tr>
<td><strong>Scale</strong></td>
<td>Variant count</td>
<td>WC REST API <code>/products?type=variable</code></td>
<td>&gt;50K SKUs = high</td>
</tr>
<tr>
<td><strong>Scale</strong></td>
<td>Order count</td>
<td>WC REST API <code>/orders?per_page=1</code></td>
<td>Historical only</td>
</tr>
<tr>
<td><strong>Scale</strong></td>
<td>Customer count</td>
<td>WC REST API <code>/customers?per_page=1</code></td>
<td>Password reset required</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Product types</td>
<td>WC REST API</td>
<td>grouped/external = medium</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Custom attributes</td>
<td>WC REST API <code>/products/attributes</code></td>
<td>&gt;20 = high</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Active plugins</td>
<td>WP REST API <code>/plugins</code></td>
<td>Payment/shipping integrations</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Meta fields per product</td>
<td>Sample query</td>
<td>&gt;50 avg = high</td>
</tr>
<tr>
<td><strong>SEO</strong></td>
<td>URL structure</td>
<td>Permalink settings</td>
<td>Custom = redirect mapping</td>
</tr>
<tr>
<td><strong>SEO</strong></td>
<td>Yoast/RankMath data</td>
<td>Plugin-specific meta</td>
<td>SEO preservation</td>
</tr>
<tr>
<td><strong>Content</strong></td>
<td>Pages/Posts</td>
<td>WP REST API</td>
<td>Stays in WordPress</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Payment gateways</td>
<td>WC settings</td>
<td>Reconfiguration needed</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Shipping methods</td>
<td>WC settings</td>
<td>Reconfiguration needed</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Tax settings</td>
<td>WC settings</td>
<td>May need TaxJar/Avalara</td>
</tr>
</tbody></table>
<h3>Readiness Score Output</h3>
<pre><code>MIGRATION READINESS ASSESSMENT
==============================
Store: example-store.com
Assessed: 2024-12-17

SCALE METRICS
├── Products: 2,847 (simple: 2,100, variable: 747)
├── Total SKUs: 8,234
├── Categories: 45
├── Customers: 12,500
└── Historical Orders: 45,000

COMPLEXITY SCORE: MEDIUM (62/100)
├── Custom attributes: 12 (low)
├── Product meta density: 23 avg (medium)
├── Plugin integrations: 8 (medium)
└── URL customization: Standard permalinks (low)

ESTIMATED EFFORT
├── Data migration: 4-6 hours (automated)
├── Integration setup: 2-4 hours (manual)
├── URL redirect mapping: 1-2 hours (semi-automated)
├── UAT/Validation: 4-8 hours (manual)
└── TOTAL: 11-20 hours

BLOCKERS IDENTIFIED
├── [WARN] Plugin &quot;WooCommerce Subscriptions&quot; - requires manual migration
├── [WARN] 3 products have &gt;100 variations - BC limit is 600, OK
└── [INFO] Customer passwords will require reset on first login

RECOMMENDATION: PROCEED - Standard migration path
</code></pre>
<hr>
<h2>Phase 2: Data Model Mapping</h2>
<h3>Products</h3>
<table>
<thead>
<tr>
<th>WooCommerce Field</th>
<th>BigCommerce Field</th>
<th>Transform</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>-</td>
<td>Generate new</td>
<td>BC assigns IDs</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td>Direct</td>
<td>Max 250 chars in BC</td>
</tr>
<tr>
<td><code>slug</code></td>
<td><code>custom_url.url</code></td>
<td>Transform</td>
<td>Add leading <code>/</code></td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>type</code></td>
<td>Map</td>
<td>simple-&gt;physical, variable-&gt;physical</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>is_visible</code></td>
<td>Map</td>
<td>publish-&gt;true</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>description</code></td>
<td>Direct</td>
<td>HTML preserved</td>
</tr>
<tr>
<td><code>short_description</code></td>
<td>-</td>
<td>Append to description</td>
<td>BC has no short desc</td>
</tr>
<tr>
<td><code>sku</code></td>
<td><code>sku</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>price</code></td>
<td><code>price</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>regular_price</code></td>
<td><code>price</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>sale_price</code></td>
<td><code>sale_price</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>manage_stock</code></td>
<td><code>inventory_tracking</code></td>
<td>Map</td>
<td>true-&gt;&#39;product&#39;</td>
</tr>
<tr>
<td><code>stock_quantity</code></td>
<td><code>inventory_level</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>weight</code></td>
<td><code>weight</code></td>
<td>Convert</td>
<td>WC uses store units</td>
</tr>
<tr>
<td><code>dimensions.length</code></td>
<td><code>depth</code></td>
<td>Convert</td>
<td>WC uses store units</td>
</tr>
<tr>
<td><code>dimensions.width</code></td>
<td><code>width</code></td>
<td>Convert</td>
<td></td>
</tr>
<tr>
<td><code>dimensions.height</code></td>
<td><code>height</code></td>
<td>Convert</td>
<td></td>
</tr>
<tr>
<td><code>categories[].id</code></td>
<td><code>categories[]</code></td>
<td>Map IDs</td>
<td>Pre-migrate categories</td>
</tr>
<tr>
<td><code>images[].src</code></td>
<td><code>images[].image_url</code></td>
<td>Direct</td>
<td>BC fetches from URL</td>
</tr>
<tr>
<td><code>attributes[]</code></td>
<td><code>options[]</code></td>
<td>Transform</td>
<td>See variants section</td>
</tr>
<tr>
<td><code>meta_data[]</code></td>
<td><code>custom_fields[]</code></td>
<td>Selective</td>
<td>Filter relevant meta</td>
</tr>
</tbody></table>
<h3>Variants (Variable Products)</h3>
<table>
<thead>
<tr>
<th>WooCommerce</th>
<th>BigCommerce</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>variations[]</code></td>
<td><code>variants[]</code></td>
<td>Nested under product</td>
</tr>
<tr>
<td><code>variation.attributes[]</code></td>
<td><code>variant.option_values[]</code></td>
<td>Map attribute-&gt;option</td>
</tr>
<tr>
<td><code>variation.sku</code></td>
<td><code>variant.sku</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>variation.price</code></td>
<td><code>variant.price</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>variation.stock_quantity</code></td>
<td><code>variant.inventory_level</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>variation.image</code></td>
<td>-</td>
<td>BC variants inherit product images</td>
</tr>
</tbody></table>
<p><strong>Key Difference:</strong> WooCommerce attributes are global or per-product. BigCommerce options are always per-product. Migration must:</p>
<ol>
<li>Create product-level options from WC attributes</li>
<li>Map variation attribute values to option values</li>
</ol>
<h3>Categories</h3>
<table>
<thead>
<tr>
<th>WooCommerce</th>
<th>BigCommerce</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>-</td>
<td>Generate new</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>slug</code></td>
<td><code>custom_url.url</code></td>
<td>Transform</td>
</tr>
<tr>
<td><code>parent</code></td>
<td><code>parent_id</code></td>
<td>Map to new IDs</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>description</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>image.src</code></td>
<td><code>image_url</code></td>
<td>Direct</td>
</tr>
</tbody></table>
<h3>Customers</h3>
<table>
<thead>
<tr>
<th>WooCommerce</th>
<th>BigCommerce</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>-</td>
<td>Generate new</td>
</tr>
<tr>
<td><code>email</code></td>
<td><code>email</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>first_name</code></td>
<td><code>first_name</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>last_name</code></td>
<td><code>last_name</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>billing</code></td>
<td><code>addresses[]</code></td>
<td>Transform to address object</td>
</tr>
<tr>
<td><code>shipping</code></td>
<td><code>addresses[]</code></td>
<td>Transform to address object</td>
</tr>
<tr>
<td><code>meta_data</code></td>
<td><code>form_fields</code> / <code>attributes</code></td>
<td>Selective</td>
</tr>
<tr>
<td><code>password</code></td>
<td>-</td>
<td><strong>CANNOT MIGRATE</strong> - requires reset</td>
</tr>
</tbody></table>
<h3>Orders (Historical)</h3>
<p><strong>Decision Point:</strong> Do we migrate order history?</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Pros</th>
<th>Cons</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Don&#39;t migrate</strong></td>
<td>Simple, fast</td>
<td>Merchants lose history in BC admin</td>
</tr>
<tr>
<td><strong>Read-only import</strong></td>
<td>History visible</td>
<td>BC order import is limited</td>
</tr>
<tr>
<td><strong>Keep in WP</strong></td>
<td>Full history preserved</td>
<td>Split admin experience</td>
</tr>
</tbody></table>
<p><strong>Recommendation:</strong> Keep historical orders in WordPress. Only new orders flow through BigCommerce. Provide a &quot;unified order view&quot; widget if needed.</p>
<hr>
<h2>Phase 3: Integration Architecture</h2>
<h3>Option A: Headless (Recommended for Mid-Market)</h3>
<pre><code>┌─────────────────────────────────────────────────────────┐
│                     CUSTOMER                             │
└─────────────────────────┬───────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│                  WORDPRESS (WPEngine)                    │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │   Content   │  │   Blog      │  │   Pages         │  │
│  │   (stays)   │  │   (stays)   │  │   (stays)       │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
│                                                          │
│  ┌─────────────────────────────────────────────────────┐ │
│  │            STOREFRONT PLUGIN (NEW)                  │ │
│  │  - Renders product pages from BC data               │ │
│  │  - Cart/checkout redirects to BC                    │ │
│  │  - Customer auth via BC                             │ │
│  └─────────────────────────────────────────────────────┘ │
└─────────────────────────┬───────────────────────────────┘
                          │ REST/GraphQL
                          ▼
┌─────────────────────────────────────────────────────────┐
│                   BIGCOMMERCE                            │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │  Catalog    │  │   Orders    │  │   Customers     │  │
│  │  (source)   │  │   (new)     │  │   (migrated)    │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
│                                                          │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │  Checkout   │  │  Payments   │  │   Shipping      │  │
│  │  (hosted)   │  │  (BC)       │  │   (BC)          │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
└─────────────────────────────────────────────────────────┘
</code></pre>
<p><strong>WordPress Plugin Responsibilities:</strong></p>
<ul>
<li>Fetch product data from BC API (cached)</li>
<li>Render product listing pages</li>
<li>Render product detail pages</li>
<li>Handle add-to-cart (BC Storefront API)</li>
<li>Redirect to BC hosted checkout</li>
<li>Sync customer session</li>
</ul>
<h3>Option B: Checkout-Only (Simplest)</h3>
<p>WordPress handles everything except checkout. Minimal BC footprint.</p>
<pre><code>WordPress (Product Pages) -&gt; Add to Cart -&gt; BC Checkout -&gt; BC Order
</code></pre>
<p><strong>Pros:</strong> Simplest migration, minimal BC integration
<strong>Cons:</strong> Cart experience may feel disjointed</p>
<h3>Option C: Full BC Storefront (Not Recommended)</h3>
<p>Replace WordPress entirely with BC Stencil theme.</p>
<p><strong>Why Not:</strong> Defeats the &quot;Keep WordPress&quot; value prop.</p>
<hr>
<h2>WordPress Integration Layer</h2>
<p>WooCommerce is a WordPress plugin, not a separate system. All commerce data lives in WordPress&#39;s database. Understanding this architecture is critical to the migration strategy.</p>
<h3>WordPress Database Architecture</h3>
<pre><code>WORDPRESS DATABASE (wp_*)
│
├── wp_posts
│   ├── post_type = &#39;post&#39;              ← Blog posts (STAYS)
│   ├── post_type = &#39;page&#39;              ← Pages (STAYS)
│   ├── post_type = &#39;attachment&#39;        ← Media/images (STAYS)
│   ├── post_type = &#39;product&#39;           &lt;- WC Products (MIGRATES -&gt; BC)
│   ├── post_type = &#39;product_variation&#39; &lt;- WC Variants (MIGRATES -&gt; BC)
│   ├── post_type = &#39;shop_order&#39;        ← WC Orders (STAYS as historical)
│   └── post_type = &#39;shop_coupon&#39;       ← WC Coupons (RECREATE in BC)
│
├── wp_postmeta
│   ├── _price, _regular_price, _sale_price
│   ├── _sku, _stock, _stock_status
│   ├── _weight, _length, _width, _height
│   ├── _product_attributes (serialized)
│   └── [plugin-specific meta]          ← Yoast, RankMath, etc.
│
├── wp_users
│   └── WordPress users + WooCommerce customers = SAME TABLE
│       └── user role = &#39;customer&#39; for WC customers
│
├── wp_usermeta
│   ├── billing_* (address, phone, email)
│   ├── shipping_* (address fields)
│   ├── _order_count, _money_spent
│   └── [WC-specific customer meta]
│
├── wp_terms / wp_term_taxonomy / wp_term_relationships
│   ├── taxonomy = &#39;product_cat&#39;        ← Product categories (MIGRATES)
│   ├── taxonomy = &#39;product_tag&#39;        ← Product tags (MIGRATES)
│   └── taxonomy = &#39;pa_*&#39;               ← Product attributes (MIGRATES)
│
├── wp_woocommerce_sessions              ← Cart sessions (IGNORE)
├── wp_woocommerce_api_keys              ← API keys (IGNORE)
├── wp_woocommerce_log                   ← Logs (IGNORE)
│
└── wp_wc_* tables (HPOS - WooCommerce 8.0+)
    ├── wp_wc_orders                     ← New order storage
    ├── wp_wc_order_items
    ├── wp_wc_order_addresses
    └── wp_wc_order_operational_data
</code></pre>
<h3>Component Fate Matrix</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Before Migration</th>
<th>After Migration</th>
<th>Action</th>
</tr>
</thead>
<tbody><tr>
<td><strong>WordPress Core</strong></td>
<td>Running</td>
<td>Running</td>
<td>None</td>
</tr>
<tr>
<td><strong>Theme</strong></td>
<td>Renders WC templates</td>
<td>Renders BC data</td>
<td>Install BC Bridge</td>
</tr>
<tr>
<td><strong>WooCommerce Plugin</strong></td>
<td>Active</td>
<td>Deactivated</td>
<td>Deactivate, don&#39;t uninstall</td>
</tr>
<tr>
<td><strong>WC Extensions</strong></td>
<td>Active</td>
<td>Deactivated</td>
<td>Case-by-case</td>
</tr>
<tr>
<td><strong>Product Data</strong></td>
<td>Active in <code>wp_posts</code></td>
<td>Orphaned/archived</td>
<td>Leave dormant</td>
</tr>
<tr>
<td><strong>Order Data</strong></td>
<td>Active</td>
<td>Historical reference</td>
<td>Keep for lookups</td>
</tr>
<tr>
<td><strong>Customer Data</strong></td>
<td>In <code>wp_users</code></td>
<td>Synced to BC</td>
<td>Dual existence</td>
</tr>
<tr>
<td><strong>Blog/Pages</strong></td>
<td>Working</td>
<td>Working</td>
<td>None</td>
</tr>
<tr>
<td><strong>Media Library</strong></td>
<td>Product images</td>
<td>Still serves images</td>
<td>BC fetches URLs</td>
</tr>
<tr>
<td><strong>SEO Plugins</strong></td>
<td>Managing product SEO</td>
<td>Content SEO only</td>
<td>Reconfigure</td>
</tr>
<tr>
<td><strong>Menus/Navigation</strong></td>
<td>Links to /shop, /product/*</td>
<td>Same URLs, new handler</td>
<td>Update if needed</td>
</tr>
</tbody></table>
<h3>BC Bridge Plugin Architecture</h3>
<p>The &quot;BC Bridge&quot; plugin replaces WooCommerce&#39;s frontend while preserving WordPress.</p>
<pre><code>wp-content/plugins/bc-bridge/
├── bc-bridge.php                 ← Main plugin file
├── includes/
│   ├── class-bc-api.php          ← BigCommerce API wrapper
│   ├── class-bc-product.php      ← Product data model
│   ├── class-bc-cart.php         ← Cart management
│   ├── class-bc-customer.php     ← Customer sync
│   └── class-bc-cache.php        ← Response caching
├── templates/
│   ├── archive-product.php       ← Product listing (replaces WC)
│   ├── single-product.php        ← Product detail (replaces WC)
│   ├── cart.php                  ← Mini-cart / cart page
│   └── shortcodes/               ← [bc_products], [bc_cart], etc.
├── assets/
│   ├── js/add-to-cart.js         ← AJAX add-to-cart
│   └── css/storefront.css        ← Base styling
└── admin/
    ├── settings.php              ← BC API credentials
    └── sync-status.php           ← Migration/sync dashboard
</code></pre>
<p><strong>Route Handling:</strong></p>
<pre><code class="language-php">// BC Bridge intercepts WooCommerce routes
add_action(&#39;template_redirect&#39;, function() {
    if (is_woocommerce()) {
        // WC would handle this, but it&#39;s deactivated
        // BC Bridge takes over
    }
});

// Register same URL patterns WooCommerce used
add_rewrite_rule(&#39;^shop/?<body>
<h1>WooCommerce to BigCommerce Migration Architecture</h1>
<h2>Overview</h2>
<p>This document defines the technical architecture for a low-friction, highly-automated migration path from WooCommerce to BigCommerce while preserving WordPress.</p>
<p><strong>Goal:</strong> Make migration dramatically easier than BigCommerce&#39;s current reputation suggests.</p>
<hr>
<h2>Phase 1: Assessment Engine</h2>
<h3>What It Does</h3>
<p>Analyzes a WooCommerce store and produces a migration readiness report with effort estimates.</p>
<h3>Data Points to Collect</h3>
<table>
<thead>
<tr>
<th>Category</th>
<th>Data Point</th>
<th>Method</th>
<th>Complexity Signal</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Scale</strong></td>
<td>Product count</td>
<td>WC REST API <code>/products?per_page=1</code> (check headers)</td>
<td>&gt;10K = high</td>
</tr>
<tr>
<td><strong>Scale</strong></td>
<td>Variant count</td>
<td>WC REST API <code>/products?type=variable</code></td>
<td>&gt;50K SKUs = high</td>
</tr>
<tr>
<td><strong>Scale</strong></td>
<td>Order count</td>
<td>WC REST API <code>/orders?per_page=1</code></td>
<td>Historical only</td>
</tr>
<tr>
<td><strong>Scale</strong></td>
<td>Customer count</td>
<td>WC REST API <code>/customers?per_page=1</code></td>
<td>Password reset required</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Product types</td>
<td>WC REST API</td>
<td>grouped/external = medium</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Custom attributes</td>
<td>WC REST API <code>/products/attributes</code></td>
<td>&gt;20 = high</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Active plugins</td>
<td>WP REST API <code>/plugins</code></td>
<td>Payment/shipping integrations</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Meta fields per product</td>
<td>Sample query</td>
<td>&gt;50 avg = high</td>
</tr>
<tr>
<td><strong>SEO</strong></td>
<td>URL structure</td>
<td>Permalink settings</td>
<td>Custom = redirect mapping</td>
</tr>
<tr>
<td><strong>SEO</strong></td>
<td>Yoast/RankMath data</td>
<td>Plugin-specific meta</td>
<td>SEO preservation</td>
</tr>
<tr>
<td><strong>Content</strong></td>
<td>Pages/Posts</td>
<td>WP REST API</td>
<td>Stays in WordPress</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Payment gateways</td>
<td>WC settings</td>
<td>Reconfiguration needed</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Shipping methods</td>
<td>WC settings</td>
<td>Reconfiguration needed</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Tax settings</td>
<td>WC settings</td>
<td>May need TaxJar/Avalara</td>
</tr>
</tbody></table>
<h3>Readiness Score Output</h3>
<pre><code>MIGRATION READINESS ASSESSMENT
==============================
Store: example-store.com
Assessed: 2024-12-17

SCALE METRICS
├── Products: 2,847 (simple: 2,100, variable: 747)
├── Total SKUs: 8,234
├── Categories: 45
├── Customers: 12,500
└── Historical Orders: 45,000

COMPLEXITY SCORE: MEDIUM (62/100)
├── Custom attributes: 12 (low)
├── Product meta density: 23 avg (medium)
├── Plugin integrations: 8 (medium)
└── URL customization: Standard permalinks (low)

ESTIMATED EFFORT
├── Data migration: 4-6 hours (automated)
├── Integration setup: 2-4 hours (manual)
├── URL redirect mapping: 1-2 hours (semi-automated)
├── UAT/Validation: 4-8 hours (manual)
└── TOTAL: 11-20 hours

BLOCKERS IDENTIFIED
├── [WARN] Plugin &quot;WooCommerce Subscriptions&quot; - requires manual migration
├── [WARN] 3 products have &gt;100 variations - BC limit is 600, OK
└── [INFO] Customer passwords will require reset on first login

RECOMMENDATION: PROCEED - Standard migration path
</code></pre>
<hr>
<h2>Phase 2: Data Model Mapping</h2>
<h3>Products</h3>
<table>
<thead>
<tr>
<th>WooCommerce Field</th>
<th>BigCommerce Field</th>
<th>Transform</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>-</td>
<td>Generate new</td>
<td>BC assigns IDs</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td>Direct</td>
<td>Max 250 chars in BC</td>
</tr>
<tr>
<td><code>slug</code></td>
<td><code>custom_url.url</code></td>
<td>Transform</td>
<td>Add leading <code>/</code></td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>type</code></td>
<td>Map</td>
<td>simple-&gt;physical, variable-&gt;physical</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>is_visible</code></td>
<td>Map</td>
<td>publish-&gt;true</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>description</code></td>
<td>Direct</td>
<td>HTML preserved</td>
</tr>
<tr>
<td><code>short_description</code></td>
<td>-</td>
<td>Append to description</td>
<td>BC has no short desc</td>
</tr>
<tr>
<td><code>sku</code></td>
<td><code>sku</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>price</code></td>
<td><code>price</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>regular_price</code></td>
<td><code>price</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>sale_price</code></td>
<td><code>sale_price</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>manage_stock</code></td>
<td><code>inventory_tracking</code></td>
<td>Map</td>
<td>true-&gt;&#39;product&#39;</td>
</tr>
<tr>
<td><code>stock_quantity</code></td>
<td><code>inventory_level</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>weight</code></td>
<td><code>weight</code></td>
<td>Convert</td>
<td>WC uses store units</td>
</tr>
<tr>
<td><code>dimensions.length</code></td>
<td><code>depth</code></td>
<td>Convert</td>
<td>WC uses store units</td>
</tr>
<tr>
<td><code>dimensions.width</code></td>
<td><code>width</code></td>
<td>Convert</td>
<td></td>
</tr>
<tr>
<td><code>dimensions.height</code></td>
<td><code>height</code></td>
<td>Convert</td>
<td></td>
</tr>
<tr>
<td><code>categories[].id</code></td>
<td><code>categories[]</code></td>
<td>Map IDs</td>
<td>Pre-migrate categories</td>
</tr>
<tr>
<td><code>images[].src</code></td>
<td><code>images[].image_url</code></td>
<td>Direct</td>
<td>BC fetches from URL</td>
</tr>
<tr>
<td><code>attributes[]</code></td>
<td><code>options[]</code></td>
<td>Transform</td>
<td>See variants section</td>
</tr>
<tr>
<td><code>meta_data[]</code></td>
<td><code>custom_fields[]</code></td>
<td>Selective</td>
<td>Filter relevant meta</td>
</tr>
</tbody></table>
<h3>Variants (Variable Products)</h3>
<table>
<thead>
<tr>
<th>WooCommerce</th>
<th>BigCommerce</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>variations[]</code></td>
<td><code>variants[]</code></td>
<td>Nested under product</td>
</tr>
<tr>
<td><code>variation.attributes[]</code></td>
<td><code>variant.option_values[]</code></td>
<td>Map attribute-&gt;option</td>
</tr>
<tr>
<td><code>variation.sku</code></td>
<td><code>variant.sku</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>variation.price</code></td>
<td><code>variant.price</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>variation.stock_quantity</code></td>
<td><code>variant.inventory_level</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>variation.image</code></td>
<td>-</td>
<td>BC variants inherit product images</td>
</tr>
</tbody></table>
<p><strong>Key Difference:</strong> WooCommerce attributes are global or per-product. BigCommerce options are always per-product. Migration must:</p>
<ol>
<li>Create product-level options from WC attributes</li>
<li>Map variation attribute values to option values</li>
</ol>
<h3>Categories</h3>
<table>
<thead>
<tr>
<th>WooCommerce</th>
<th>BigCommerce</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>-</td>
<td>Generate new</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>slug</code></td>
<td><code>custom_url.url</code></td>
<td>Transform</td>
</tr>
<tr>
<td><code>parent</code></td>
<td><code>parent_id</code></td>
<td>Map to new IDs</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>description</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>image.src</code></td>
<td><code>image_url</code></td>
<td>Direct</td>
</tr>
</tbody></table>
<h3>Customers</h3>
<table>
<thead>
<tr>
<th>WooCommerce</th>
<th>BigCommerce</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>-</td>
<td>Generate new</td>
</tr>
<tr>
<td><code>email</code></td>
<td><code>email</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>first_name</code></td>
<td><code>first_name</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>last_name</code></td>
<td><code>last_name</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>billing</code></td>
<td><code>addresses[]</code></td>
<td>Transform to address object</td>
</tr>
<tr>
<td><code>shipping</code></td>
<td><code>addresses[]</code></td>
<td>Transform to address object</td>
</tr>
<tr>
<td><code>meta_data</code></td>
<td><code>form_fields</code> / <code>attributes</code></td>
<td>Selective</td>
</tr>
<tr>
<td><code>password</code></td>
<td>-</td>
<td><strong>CANNOT MIGRATE</strong> - requires reset</td>
</tr>
</tbody></table>
<h3>Orders (Historical)</h3>
<p><strong>Decision Point:</strong> Do we migrate order history?</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Pros</th>
<th>Cons</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Don&#39;t migrate</strong></td>
<td>Simple, fast</td>
<td>Merchants lose history in BC admin</td>
</tr>
<tr>
<td><strong>Read-only import</strong></td>
<td>History visible</td>
<td>BC order import is limited</td>
</tr>
<tr>
<td><strong>Keep in WP</strong></td>
<td>Full history preserved</td>
<td>Split admin experience</td>
</tr>
</tbody></table>
<p><strong>Recommendation:</strong> Keep historical orders in WordPress. Only new orders flow through BigCommerce. Provide a &quot;unified order view&quot; widget if needed.</p>
<hr>
<h2>Phase 3: Integration Architecture</h2>
<h3>Option A: Headless (Recommended for Mid-Market)</h3>
<pre><code>┌─────────────────────────────────────────────────────────┐
│                     CUSTOMER                             │
└─────────────────────────┬───────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│                  WORDPRESS (WPEngine)                    │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │   Content   │  │   Blog      │  │   Pages         │  │
│  │   (stays)   │  │   (stays)   │  │   (stays)       │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
│                                                          │
│  ┌─────────────────────────────────────────────────────┐ │
│  │            STOREFRONT PLUGIN (NEW)                  │ │
│  │  - Renders product pages from BC data               │ │
│  │  - Cart/checkout redirects to BC                    │ │
│  │  - Customer auth via BC                             │ │
│  └─────────────────────────────────────────────────────┘ │
└─────────────────────────┬───────────────────────────────┘
                          │ REST/GraphQL
                          ▼
┌─────────────────────────────────────────────────────────┐
│                   BIGCOMMERCE                            │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │  Catalog    │  │   Orders    │  │   Customers     │  │
│  │  (source)   │  │   (new)     │  │   (migrated)    │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
│                                                          │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │  Checkout   │  │  Payments   │  │   Shipping      │  │
│  │  (hosted)   │  │  (BC)       │  │   (BC)          │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
└─────────────────────────────────────────────────────────┘
</code></pre>
<p><strong>WordPress Plugin Responsibilities:</strong></p>
<ul>
<li>Fetch product data from BC API (cached)</li>
<li>Render product listing pages</li>
<li>Render product detail pages</li>
<li>Handle add-to-cart (BC Storefront API)</li>
<li>Redirect to BC hosted checkout</li>
<li>Sync customer session</li>
</ul>
<h3>Option B: Checkout-Only (Simplest)</h3>
<p>WordPress handles everything except checkout. Minimal BC footprint.</p>
<pre><code>WordPress (Product Pages) -&gt; Add to Cart -&gt; BC Checkout -&gt; BC Order
</code></pre>
<p><strong>Pros:</strong> Simplest migration, minimal BC integration
<strong>Cons:</strong> Cart experience may feel disjointed</p>
<h3>Option C: Full BC Storefront (Not Recommended)</h3>
<p>Replace WordPress entirely with BC Stencil theme.</p>
<p><strong>Why Not:</strong> Defeats the &quot;Keep WordPress&quot; value prop.</p>
<hr>
<h2>WordPress Integration Layer</h2>
<p>WooCommerce is a WordPress plugin, not a separate system. All commerce data lives in WordPress&#39;s database. Understanding this architecture is critical to the migration strategy.</p>
<h3>WordPress Database Architecture</h3>
<pre><code>WORDPRESS DATABASE (wp_*)
│
├── wp_posts
│   ├── post_type = &#39;post&#39;              ← Blog posts (STAYS)
│   ├── post_type = &#39;page&#39;              ← Pages (STAYS)
│   ├── post_type = &#39;attachment&#39;        ← Media/images (STAYS)
│   ├── post_type = &#39;product&#39;           &lt;- WC Products (MIGRATES -&gt; BC)
│   ├── post_type = &#39;product_variation&#39; &lt;- WC Variants (MIGRATES -&gt; BC)
│   ├── post_type = &#39;shop_order&#39;        ← WC Orders (STAYS as historical)
│   └── post_type = &#39;shop_coupon&#39;       ← WC Coupons (RECREATE in BC)
│
├── wp_postmeta
│   ├── _price, _regular_price, _sale_price
│   ├── _sku, _stock, _stock_status
│   ├── _weight, _length, _width, _height
│   ├── _product_attributes (serialized)
│   └── [plugin-specific meta]          ← Yoast, RankMath, etc.
│
├── wp_users
│   └── WordPress users + WooCommerce customers = SAME TABLE
│       └── user role = &#39;customer&#39; for WC customers
│
├── wp_usermeta
│   ├── billing_* (address, phone, email)
│   ├── shipping_* (address fields)
│   ├── _order_count, _money_spent
│   └── [WC-specific customer meta]
│
├── wp_terms / wp_term_taxonomy / wp_term_relationships
│   ├── taxonomy = &#39;product_cat&#39;        ← Product categories (MIGRATES)
│   ├── taxonomy = &#39;product_tag&#39;        ← Product tags (MIGRATES)
│   └── taxonomy = &#39;pa_*&#39;               ← Product attributes (MIGRATES)
│
├── wp_woocommerce_sessions              ← Cart sessions (IGNORE)
├── wp_woocommerce_api_keys              ← API keys (IGNORE)
├── wp_woocommerce_log                   ← Logs (IGNORE)
│
└── wp_wc_* tables (HPOS - WooCommerce 8.0+)
    ├── wp_wc_orders                     ← New order storage
    ├── wp_wc_order_items
    ├── wp_wc_order_addresses
    └── wp_wc_order_operational_data
</code></pre>
<h3>Component Fate Matrix</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Before Migration</th>
<th>After Migration</th>
<th>Action</th>
</tr>
</thead>
<tbody><tr>
<td><strong>WordPress Core</strong></td>
<td>Running</td>
<td>Running</td>
<td>None</td>
</tr>
<tr>
<td><strong>Theme</strong></td>
<td>Renders WC templates</td>
<td>Renders BC data</td>
<td>Install BC Bridge</td>
</tr>
<tr>
<td><strong>WooCommerce Plugin</strong></td>
<td>Active</td>
<td>Deactivated</td>
<td>Deactivate, don&#39;t uninstall</td>
</tr>
<tr>
<td><strong>WC Extensions</strong></td>
<td>Active</td>
<td>Deactivated</td>
<td>Case-by-case</td>
</tr>
<tr>
<td><strong>Product Data</strong></td>
<td>Active in <code>wp_posts</code></td>
<td>Orphaned/archived</td>
<td>Leave dormant</td>
</tr>
<tr>
<td><strong>Order Data</strong></td>
<td>Active</td>
<td>Historical reference</td>
<td>Keep for lookups</td>
</tr>
<tr>
<td><strong>Customer Data</strong></td>
<td>In <code>wp_users</code></td>
<td>Synced to BC</td>
<td>Dual existence</td>
</tr>
<tr>
<td><strong>Blog/Pages</strong></td>
<td>Working</td>
<td>Working</td>
<td>None</td>
</tr>
<tr>
<td><strong>Media Library</strong></td>
<td>Product images</td>
<td>Still serves images</td>
<td>BC fetches URLs</td>
</tr>
<tr>
<td><strong>SEO Plugins</strong></td>
<td>Managing product SEO</td>
<td>Content SEO only</td>
<td>Reconfigure</td>
</tr>
<tr>
<td><strong>Menus/Navigation</strong></td>
<td>Links to /shop, /product/*</td>
<td>Same URLs, new handler</td>
<td>Update if needed</td>
</tr>
</tbody></table>
<h3>BC Bridge Plugin Architecture</h3>
<p>The &quot;BC Bridge&quot; plugin replaces WooCommerce&#39;s frontend while preserving WordPress.</p>
<pre><code>wp-content/plugins/bc-bridge/
├── bc-bridge.php                 ← Main plugin file
├── includes/
│   ├── class-bc-api.php          ← BigCommerce API wrapper
│   ├── class-bc-product.php      ← Product data model
│   ├── class-bc-cart.php         ← Cart management
│   ├── class-bc-customer.php     ← Customer sync
│   └── class-bc-cache.php        ← Response caching
├── templates/
│   ├── archive-product.php       ← Product listing (replaces WC)
│   ├── single-product.php        ← Product detail (replaces WC)
│   ├── cart.php                  ← Mini-cart / cart page
│   └── shortcodes/               ← [bc_products], [bc_cart], etc.
├── assets/
│   ├── js/add-to-cart.js         ← AJAX add-to-cart
│   └── css/storefront.css        ← Base styling
└── admin/
    ├── settings.php              ← BC API credentials
    └── sync-status.php           ← Migration/sync dashboard
</code></pre>
<p><strong>Route Handling:</strong></p>
<pre><code class="language-php">// BC Bridge intercepts WooCommerce routes
add_action(&#39;template_redirect&#39;, function() {
    if (is_woocommerce()) {
        // WC would handle this, but it&#39;s deactivated
        // BC Bridge takes over
    }
});

// Register same URL patterns WooCommerce used
add_rewrite_rule(&#39;^shop/?$&#39;, &#39;index.php?bc_shop=1&#39;, &#39;top&#39;);
add_rewrite_rule(&#39;^product/([^/]+)/?$&#39;, &#39;index.php?bc_product=$matches[1]&#39;, &#39;top&#39;);
add_rewrite_rule(&#39;^product-category/([^/]+)/?$&#39;, &#39;index.php?bc_category=$matches[1]&#39;, &#39;top&#39;);
</code></pre>
<p><strong>Data Flow:</strong></p>
<pre><code>┌────────────────────────────────────────────────────────────────┐
│                        VISITOR REQUEST                          │
│                     GET /product/blue-widget                    │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ▼
┌────────────────────────────────────────────────────────────────┐
│                      WORDPRESS ROUTER                           │
│            Matches rewrite rule -&gt; bc_product=blue-widget        │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ▼
┌────────────────────────────────────────────────────────────────┐
│                      BC BRIDGE PLUGIN                           │
│  1. Check cache for product data                                │
│  2. If miss: fetch from BC API by custom_url                    │
│  3. Transform to WordPress-friendly format                      │
│  4. Load template: templates/single-product.php                 │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ▼
┌────────────────────────────────────────────────────────────────┐
│                      THEME TEMPLATE                             │
│  - Uses BC Bridge template tags                                 │
│  - Renders product with theme styling                           │
│  - Add-to-cart posts to BC Storefront API                       │
└────────────────────────────────────────────────────────────────┘
</code></pre>
<h3>User/Customer Sync Strategy</h3>
<p>WordPress users and WooCommerce customers share <code>wp_users</code>. Post-migration, we need dual identity.</p>
<p><strong>Sync Approaches:</strong></p>
<table>
<thead>
<tr>
<th>Approach</th>
<th>Trigger</th>
<th>BC Customer Created</th>
<th>Complexity</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Lazy sync</strong></td>
<td>First purchase on BC</td>
<td>Yes, at checkout</td>
<td>Low</td>
</tr>
<tr>
<td><strong>Eager sync</strong></td>
<td>Migration time</td>
<td>All customers migrated</td>
<td>Medium</td>
</tr>
<tr>
<td><strong>Hybrid</strong></td>
<td>Migration + ongoing</td>
<td>Bulk + incremental</td>
<td>Medium</td>
</tr>
</tbody></table>
<p><strong>Recommended: Lazy Sync</strong></p>
<pre><code>EXISTING WP USER (hasn&#39;t purchased on BC yet)
├── wp_users.ID = 1234
├── wp_usermeta.billing_email = &quot;john@example.com&quot;
└── BC customer = NULL

USER MAKES FIRST BC PURCHASE
├── BC Bridge checks: does BC customer exist for this email?
├── No -&gt; Create BC customer via API
├── Store mapping: wp_usermeta.bc_customer_id = 98765
└── Future purchases use BC customer ID

SUBSEQUENT VISITS
├── WP session exists -&gt; check bc_customer_id
├── Fetch BC customer data (cart, addresses)
└── Render personalized experience
</code></pre>
<p><strong>Identity Mapping Table:</strong></p>
<pre><code class="language-sql">-- Optional: explicit mapping table for complex scenarios
CREATE TABLE wp_bc_customer_map (
    wp_user_id BIGINT PRIMARY KEY,
    bc_customer_id INT,
    synced_at DATETIME,
    sync_status ENUM(&#39;pending&#39;, &#39;synced&#39;, &#39;error&#39;)
);
</code></pre>
<h3>WooCommerce Deactivation Procedure</h3>
<p><strong>Critical:</strong> Deactivate, don&#39;t uninstall. WC data must remain accessible.</p>
<pre><code>PRE-DEACTIVATION CHECKLIST
├── [ ] All products migrated to BC and verified
├── [ ] BC Bridge plugin installed and tested
├── [ ] URL redirects configured (if any)
├── [ ] Customer communication sent (password reset)
├── [ ] Payment gateway configured in BC
├── [ ] Shipping methods configured in BC
├── [ ] Tax settings configured in BC
└── [ ] Staging environment tested end-to-end

## DEACTIVATION STEPS

1. Enable maintenance mode (optional)
2. Deactivate WooCommerce extensions (subscriptions, memberships, etc.)
3. Deactivate WooCommerce core plugin
4. Activate BC Bridge plugin
5. Clear all caches (object cache, page cache, CDN)
6. Test critical flows:
   - Homepage loads
   - /shop loads (from BC)
   - Product pages load (from BC)
   - Add to cart works
   - Checkout completes
7. Disable maintenance mode
8. Monitor error logs for 24-48 hours

## POST-DEACTIVATION

- WooCommerce plugin files: KEEP (don&#39;t delete)
- WC database tables: KEEP (historical data)
- WC options in wp_options: KEEP (reference)
└── WC scheduled actions: Will stop running (OK)
</code></pre>
<h3>Historical Data Access</h3>
<p>Even with WooCommerce deactivated, historical data remains queryable.</p>
<p><strong>Order Lookup (for customer service):</strong></p>
<pre><code class="language-php">// Direct database query - WC doesn&#39;t need to be active
global $wpdb;

$orders = $wpdb-&gt;get_results($wpdb-&gt;prepare(&quot;
    SELECT p.ID, p.post_date, pm.meta_value as total
    FROM {$wpdb-&gt;posts} p
    JOIN {$wpdb-&gt;postmeta} pm ON p.ID = pm.post_id AND pm.meta_key = &#39;_order_total&#39;
    WHERE p.post_type = &#39;shop_order&#39;
    AND p.post_author = %d
    ORDER BY p.post_date DESC
&quot;, $user_id));
</code></pre>
<p><strong>Admin Widget for Historical Orders:</strong></p>
<pre><code class="language-php">// Add dashboard widget showing legacy order lookup
add_action(&#39;wp_dashboard_setup&#39;, function() {
    wp_add_dashboard_widget(
        &#39;bc_legacy_orders&#39;,
        &#39;Historical Orders (Pre-Migration)&#39;,
        &#39;render_legacy_orders_widget&#39;
    );
});
</code></pre>
<h3>Theme Integration Patterns</h3>
<p><strong>Option A: Template Override (Recommended)</strong></p>
<p>BC Bridge provides templates that themes can override:</p>
<pre><code>theme/
├── bc-bridge/
│   ├── archive-product.php    ← Override listing
│   ├── single-product.php     ← Override detail
│   └── content-product.php    ← Override product card
</code></pre>
<p><strong>Option B: Shortcode-Based</strong></p>
<p>For themes that don&#39;t want template changes:</p>
<pre><code class="language-php">// In any page/template
[bc_products category=&quot;shirts&quot; limit=&quot;12&quot; columns=&quot;4&quot;]

[bc_product_detail sku=&quot;BLUE-WIDGET-001&quot;]

[bc_cart]

[bc_checkout_button text=&quot;Proceed to Checkout&quot;]
</code></pre>
<p><strong>Option C: Block-Based (Gutenberg)</strong></p>
<p>For modern block themes:</p>
<pre><code class="language-php">// Register BC blocks
register_block_type(&#39;bc-bridge/product-grid&#39;, [...]);
register_block_type(&#39;bc-bridge/product-detail&#39;, [...]);
register_block_type(&#39;bc-bridge/cart&#39;, [...]);
</code></pre>
<h3>Caching Strategy</h3>
<p>BC API calls must be cached aggressively to maintain performance.</p>
<table>
<thead>
<tr>
<th>Data Type</th>
<th>Cache TTL</th>
<th>Invalidation</th>
</tr>
</thead>
<tbody><tr>
<td>Product catalog</td>
<td>1 hour</td>
<td>Webhook on product update</td>
</tr>
<tr>
<td>Single product</td>
<td>1 hour</td>
<td>Webhook on product update</td>
</tr>
<tr>
<td>Categories</td>
<td>24 hours</td>
<td>Webhook on category update</td>
</tr>
<tr>
<td>Cart</td>
<td>No cache</td>
<td>Real-time</td>
</tr>
<tr>
<td>Customer</td>
<td>Session-based</td>
<td>On login/logout</td>
</tr>
<tr>
<td>Inventory</td>
<td>5 minutes</td>
<td>Webhook on stock change</td>
</tr>
</tbody></table>
<p><strong>Implementation:</strong></p>
<pre><code class="language-php">// Transient-based caching
function bc_get_product($slug) {
    $cache_key = &#39;bc_product_&#39; . md5($slug);
    $product = get_transient($cache_key);

    if ($product === false) {
        $product = BC_API::get_product_by_slug($slug);
        set_transient($cache_key, $product, HOUR_IN_SECONDS);
    }

    return $product;
}

// Webhook handler for cache invalidation
add_action(&#39;rest_api_init&#39;, function() {
    register_rest_route(&#39;bc-bridge/v1&#39;, &#39;/webhook&#39;, [
        &#39;methods&#39; =&gt; &#39;POST&#39;,
        &#39;callback&#39; =&gt; &#39;bc_handle_webhook&#39;,
    ]);
});

function bc_handle_webhook($request) {
    $payload = $request-&gt;get_json_params();

    if ($payload[&#39;scope&#39;] === &#39;store/product/updated&#39;) {
        $product_id = $payload[&#39;data&#39;][&#39;id&#39;];
        // Invalidate all caches for this product
        delete_transient(&#39;bc_product_&#39; . $product_id);
        // Also invalidate listing caches
        bc_invalidate_listing_caches();
    }
}
</code></pre>
<h3>Migration-Time Decisions</h3>
<table>
<thead>
<tr>
<th>Decision</th>
<th>Options</th>
<th>Recommendation</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Keep WC installed?</strong></td>
<td>Yes / No</td>
<td>Yes (deactivated)</td>
</tr>
<tr>
<td><strong>Migrate order history?</strong></td>
<td>BC / WP / Both</td>
<td>Keep in WP</td>
</tr>
<tr>
<td><strong>Customer passwords</strong></td>
<td>Reset all / Social login / Magic link</td>
<td>Reset + magic link option</td>
</tr>
<tr>
<td><strong>SEO redirects</strong></td>
<td>htaccess / plugin / CDN</td>
<td>CDN (Cloudflare)</td>
</tr>
<tr>
<td><strong>Cart persistence</strong></td>
<td>BC cart / WP session</td>
<td>BC cart (guest-friendly)</td>
</tr>
<tr>
<td><strong>Checkout location</strong></td>
<td>BC hosted / Embedded / Custom</td>
<td>BC hosted</td>
</tr>
</tbody></table>
<hr>
<h2>Phase 4: Migration Pipeline</h2>
<h3>Step-by-Step Process</h3>
<pre><code>1. ASSESSMENT (Automated)
   └── Run assessment engine
   └── Generate readiness report
   └── Merchant reviews/approves

2. PREPARATION (Semi-Automated)
   └── Create BC store (sandbox first)
   └── Configure BC settings (currency, tax, shipping zones)
   └── Set up payment gateway in BC

3. DATA MIGRATION (Automated)
   ├── Categories (must be first - products reference them)
   ├── Products (batched, 10 at a time via BC API)
   ├── Variants (nested in product creation)
   ├── Images (BC fetches from URLs)
   ├── Customers (batched, passwords excluded)
   └── [Optional] Historical orders

4. INTEGRATION SETUP (Manual)
   └── Install WordPress plugin
   └── Configure BC API credentials
   └── Test product rendering
   └── Test cart flow
   └── Test checkout

5. URL REDIRECT MAPPING (Semi-Automated)
   └── Generate WC URL to BC URL map
   └── Create .htaccess / redirect rules
   └── Verify SEO-critical pages

6. VALIDATION (Manual + Automated)
   ├── Product count match
   ├── Variant count match
   ├── Price spot-checks
   ├── Image rendering
   ├── Cart flow test
   ├── Checkout test (sandbox)
   └── Customer login test

7. CUTOVER (Coordinated)
   └── Final delta sync (products changed since migration)
   └── DNS/redirect activation
   └── Go-live
   └── Monitor for 24-48 hours
</code></pre>
<hr>
<h2>Phase 5: Validation Framework</h2>
<h3>Automated Checks</h3>
<table>
<thead>
<tr>
<th>Check</th>
<th>Method</th>
<th>Pass Criteria</th>
</tr>
</thead>
<tbody><tr>
<td>Product count</td>
<td>Compare API counts</td>
<td>WC = BC</td>
</tr>
<tr>
<td>SKU uniqueness</td>
<td>BC API validation</td>
<td>No duplicates</td>
</tr>
<tr>
<td>Category hierarchy</td>
<td>Tree comparison</td>
<td>Structure matches</td>
</tr>
<tr>
<td>Image availability</td>
<td>HTTP HEAD checks</td>
<td>All 200 OK</td>
</tr>
<tr>
<td>Price accuracy</td>
<td>Sample comparison</td>
<td>100% match on sample</td>
</tr>
<tr>
<td>Variant completeness</td>
<td>Count per product</td>
<td>WC variants = BC variants</td>
</tr>
</tbody></table>
<h3>Manual Checks</h3>
<table>
<thead>
<tr>
<th>Check</th>
<th>Owner</th>
<th>Sign-off</th>
</tr>
</thead>
<tbody><tr>
<td>Homepage renders correctly</td>
<td>Merchant</td>
<td>Y/N</td>
</tr>
<tr>
<td>Product pages render correctly</td>
<td>Merchant</td>
<td>Y/N</td>
</tr>
<tr>
<td>Add to cart works</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Checkout completes (sandbox)</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Customer can log in</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Order appears in BC admin</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Order notification emails sent</td>
<td>QA</td>
<td>Y/N</td>
</tr>
</tbody></table>
<hr>
<h2>Technical Decisions Needed</h2>
<h3>1. What&#39;s the WordPress integration pattern?</h3>
<ul>
<li><input disabled="" type="checkbox"> Custom plugin (build from scratch)</li>
<li><input disabled="" type="checkbox"> Extend existing BC for WP plugin (if still maintained)</li>
<li><input disabled="" type="checkbox"> Headless with Next.js/Vercel in front of WP</li>
</ul>
<h3>2. Do we migrate order history?</h3>
<ul>
<li><input disabled="" type="checkbox"> No - keep in WP, accept split admin</li>
<li><input disabled="" type="checkbox"> Yes - import as read-only in BC</li>
<li><input disabled="" type="checkbox"> Hybrid - unified view via custom dashboard</li>
</ul>
<h3>3. How do we handle customer passwords?</h3>
<ul>
<li><input disabled="" type="checkbox"> Force reset on first login (standard)</li>
<li><input disabled="" type="checkbox"> Social login as alternative (reduce friction)</li>
<li><input disabled="" type="checkbox"> Magic link option (email-based auth)</li>
</ul>
<h3>4. What&#39;s the cart/checkout experience?</h3>
<ul>
<li><input disabled="" type="checkbox"> Redirect to BC hosted checkout (simplest)</li>
<li><input disabled="" type="checkbox"> Embedded BC checkout in WP (medium complexity)</li>
<li><input disabled="" type="checkbox"> Fully custom checkout via BC API (highest complexity)</li>
</ul>
<h3>5. How do we handle SEO redirects?</h3>
<ul>
<li><input disabled="" type="checkbox"> WordPress .htaccess rules</li>
<li><input disabled="" type="checkbox"> Cloudflare/CDN-level redirects</li>
<li><input disabled="" type="checkbox"> Plugin-based redirect manager</li>
</ul>
<hr>
<h2>API Rate Limits &amp; Batching</h2>
<h3>BigCommerce Limits</h3>
<ul>
<li><strong>Standard:</strong> 150 requests/30 seconds (sliding window)</li>
<li><strong>Enterprise:</strong> Higher limits negotiable</li>
<li><strong>Batch endpoints:</strong> Up to 10 items per request</li>
</ul>
<h3>Migration Batching Strategy</h3>
<pre><code class="language-python"># Pseudocode for batched product migration
BATCH_SIZE = 10
RATE_LIMIT_DELAY = 0.5  # seconds between batches

products = fetch_all_wc_products()
for batch in chunk(products, BATCH_SIZE):
    bc_products = transform_batch(batch)
    response = bc_api.products.create_batch(bc_products)
    log_results(response)
    sleep(RATE_LIMIT_DELAY)
</code></pre>
<h3>Estimated Migration Times</h3>
<table>
<thead>
<tr>
<th>Store Size</th>
<th>Products</th>
<th>Est. Time</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td>Small</td>
<td>Less than 500</td>
<td>15-30 min</td>
<td>Single batch run</td>
</tr>
<tr>
<td>Medium</td>
<td>500-5K</td>
<td>1-2 hours</td>
<td>Rate limit aware</td>
</tr>
<tr>
<td>Large</td>
<td>5K-50K</td>
<td>4-8 hours</td>
<td>May need overnight</td>
</tr>
<tr>
<td>Enterprise</td>
<td>50K+</td>
<td>12-24 hours</td>
<td>Parallel processing</td>
</tr>
</tbody></table>
<hr>
<h2>Open Questions for BigCommerce Team</h2>
<ol>
<li><strong>Is there a bulk import API</strong> beyond the batch endpoints? (CSV upload, etc.)</li>
<li><strong>What&#39;s the variant limit per product?</strong> (Docs say 600)</li>
<li><strong>Can we import orders as &quot;completed/historical&quot;</strong> without triggering fulfillment?</li>
<li><strong>Is there a sandbox environment</strong> with production-like API behavior?</li>
<li><strong>What&#39;s the customer password situation?</strong> (Confirm no migration path)</li>
<li><strong>Are there webhook limits</strong> for real-time sync scenarios?</li>
</ol>
<hr>
<h2>Next Steps</h2>
<ol>
<li><strong>Spike: Assessment Engine</strong> - Build the readiness assessment tool</li>
<li><strong>Spike: Product Migration</strong> - Migrate 100 products from test WC store to BC sandbox</li>
<li><strong>Spike: WordPress Plugin</strong> - POC for product rendering from BC API</li>
<li><strong>Decision: Integration Pattern</strong> - Choose headless vs checkout-redirect</li>
<li><strong>Decision: Order History</strong> - Determine migration strategy</li>
</ol>
<hr>
<h2>Summary: The &quot;Keep WordPress&quot; Migration</h2>
<pre><code>BEFORE                              AFTER
┌─────────────────────┐            ┌─────────────────────┐
│     WORDPRESS       │            │     WORDPRESS       │
│  ┌───────────────┐  │            │  ┌───────────────┐  │
│  │  WooCommerce  │  │            │  │  BC Bridge    │  │
│  │  (active)     │  │   ───►     │  │  (active)     │  │
│  │               │  │            │  │               │  │
│  │  Products     │  │            │  │  Products ────┼──┼──► BC API
│  │  Orders       │  │            │  │  Orders ──────┼──┼──► BC API
│  │  Customers    │  │            │  │  Customers ───┼──┼──► BC API
│  │  Checkout     │  │            │  │  Checkout ────┼──┼──► BC Hosted
│  └───────────────┘  │            │  └───────────────┘  │
│                     │            │  ┌───────────────┐  │
│  Blog, Pages,       │            │  │  WooCommerce  │  │
│  Media, Theme       │            │  │  (deactivated)│  │
│  (unchanged)        │            │  │  Historical   │  │
│                     │            │  │  data only    │  │
└─────────────────────┘            │  └───────────────┘  │
                                   │                     │
                                   │  Blog, Pages,       │
                                   │  Media, Theme       │
                                   │  (unchanged)        │
                                   └─────────────────────┘
</code></pre>
<p><strong>What migrates:</strong> Products, categories, customers (no passwords)
<strong>What stays:</strong> WordPress, theme, blog, pages, media, historical orders
<strong>What changes:</strong> Commerce operations route through BigCommerce
<strong>What the merchant sees:</strong> Same WordPress admin + new BC admin for commerce</p>
<hr>
<p><em>Document Version: 0.2</em>
<em>Last Updated: December 2025</em>
<em>Status: Draft - Technical Discovery</em>
<em>Added: WordPress Integration Layer, BC Bridge Plugin architecture</em></p>

</body>#39;, &#39;index.php?bc_shop=1&#39;, &#39;top&#39;);
add_rewrite_rule(&#39;^product/([^/]+)/?<body>
<h1>WooCommerce to BigCommerce Migration Architecture</h1>
<h2>Overview</h2>
<p>This document defines the technical architecture for a low-friction, highly-automated migration path from WooCommerce to BigCommerce while preserving WordPress.</p>
<p><strong>Goal:</strong> Make migration dramatically easier than BigCommerce&#39;s current reputation suggests.</p>
<hr>
<h2>Phase 1: Assessment Engine</h2>
<h3>What It Does</h3>
<p>Analyzes a WooCommerce store and produces a migration readiness report with effort estimates.</p>
<h3>Data Points to Collect</h3>
<table>
<thead>
<tr>
<th>Category</th>
<th>Data Point</th>
<th>Method</th>
<th>Complexity Signal</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Scale</strong></td>
<td>Product count</td>
<td>WC REST API <code>/products?per_page=1</code> (check headers)</td>
<td>&gt;10K = high</td>
</tr>
<tr>
<td><strong>Scale</strong></td>
<td>Variant count</td>
<td>WC REST API <code>/products?type=variable</code></td>
<td>&gt;50K SKUs = high</td>
</tr>
<tr>
<td><strong>Scale</strong></td>
<td>Order count</td>
<td>WC REST API <code>/orders?per_page=1</code></td>
<td>Historical only</td>
</tr>
<tr>
<td><strong>Scale</strong></td>
<td>Customer count</td>
<td>WC REST API <code>/customers?per_page=1</code></td>
<td>Password reset required</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Product types</td>
<td>WC REST API</td>
<td>grouped/external = medium</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Custom attributes</td>
<td>WC REST API <code>/products/attributes</code></td>
<td>&gt;20 = high</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Active plugins</td>
<td>WP REST API <code>/plugins</code></td>
<td>Payment/shipping integrations</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Meta fields per product</td>
<td>Sample query</td>
<td>&gt;50 avg = high</td>
</tr>
<tr>
<td><strong>SEO</strong></td>
<td>URL structure</td>
<td>Permalink settings</td>
<td>Custom = redirect mapping</td>
</tr>
<tr>
<td><strong>SEO</strong></td>
<td>Yoast/RankMath data</td>
<td>Plugin-specific meta</td>
<td>SEO preservation</td>
</tr>
<tr>
<td><strong>Content</strong></td>
<td>Pages/Posts</td>
<td>WP REST API</td>
<td>Stays in WordPress</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Payment gateways</td>
<td>WC settings</td>
<td>Reconfiguration needed</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Shipping methods</td>
<td>WC settings</td>
<td>Reconfiguration needed</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Tax settings</td>
<td>WC settings</td>
<td>May need TaxJar/Avalara</td>
</tr>
</tbody></table>
<h3>Readiness Score Output</h3>
<pre><code>MIGRATION READINESS ASSESSMENT
==============================
Store: example-store.com
Assessed: 2024-12-17

SCALE METRICS
├── Products: 2,847 (simple: 2,100, variable: 747)
├── Total SKUs: 8,234
├── Categories: 45
├── Customers: 12,500
└── Historical Orders: 45,000

COMPLEXITY SCORE: MEDIUM (62/100)
├── Custom attributes: 12 (low)
├── Product meta density: 23 avg (medium)
├── Plugin integrations: 8 (medium)
└── URL customization: Standard permalinks (low)

ESTIMATED EFFORT
├── Data migration: 4-6 hours (automated)
├── Integration setup: 2-4 hours (manual)
├── URL redirect mapping: 1-2 hours (semi-automated)
├── UAT/Validation: 4-8 hours (manual)
└── TOTAL: 11-20 hours

BLOCKERS IDENTIFIED
├── [WARN] Plugin &quot;WooCommerce Subscriptions&quot; - requires manual migration
├── [WARN] 3 products have &gt;100 variations - BC limit is 600, OK
└── [INFO] Customer passwords will require reset on first login

RECOMMENDATION: PROCEED - Standard migration path
</code></pre>
<hr>
<h2>Phase 2: Data Model Mapping</h2>
<h3>Products</h3>
<table>
<thead>
<tr>
<th>WooCommerce Field</th>
<th>BigCommerce Field</th>
<th>Transform</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>-</td>
<td>Generate new</td>
<td>BC assigns IDs</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td>Direct</td>
<td>Max 250 chars in BC</td>
</tr>
<tr>
<td><code>slug</code></td>
<td><code>custom_url.url</code></td>
<td>Transform</td>
<td>Add leading <code>/</code></td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>type</code></td>
<td>Map</td>
<td>simple-&gt;physical, variable-&gt;physical</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>is_visible</code></td>
<td>Map</td>
<td>publish-&gt;true</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>description</code></td>
<td>Direct</td>
<td>HTML preserved</td>
</tr>
<tr>
<td><code>short_description</code></td>
<td>-</td>
<td>Append to description</td>
<td>BC has no short desc</td>
</tr>
<tr>
<td><code>sku</code></td>
<td><code>sku</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>price</code></td>
<td><code>price</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>regular_price</code></td>
<td><code>price</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>sale_price</code></td>
<td><code>sale_price</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>manage_stock</code></td>
<td><code>inventory_tracking</code></td>
<td>Map</td>
<td>true-&gt;&#39;product&#39;</td>
</tr>
<tr>
<td><code>stock_quantity</code></td>
<td><code>inventory_level</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>weight</code></td>
<td><code>weight</code></td>
<td>Convert</td>
<td>WC uses store units</td>
</tr>
<tr>
<td><code>dimensions.length</code></td>
<td><code>depth</code></td>
<td>Convert</td>
<td>WC uses store units</td>
</tr>
<tr>
<td><code>dimensions.width</code></td>
<td><code>width</code></td>
<td>Convert</td>
<td></td>
</tr>
<tr>
<td><code>dimensions.height</code></td>
<td><code>height</code></td>
<td>Convert</td>
<td></td>
</tr>
<tr>
<td><code>categories[].id</code></td>
<td><code>categories[]</code></td>
<td>Map IDs</td>
<td>Pre-migrate categories</td>
</tr>
<tr>
<td><code>images[].src</code></td>
<td><code>images[].image_url</code></td>
<td>Direct</td>
<td>BC fetches from URL</td>
</tr>
<tr>
<td><code>attributes[]</code></td>
<td><code>options[]</code></td>
<td>Transform</td>
<td>See variants section</td>
</tr>
<tr>
<td><code>meta_data[]</code></td>
<td><code>custom_fields[]</code></td>
<td>Selective</td>
<td>Filter relevant meta</td>
</tr>
</tbody></table>
<h3>Variants (Variable Products)</h3>
<table>
<thead>
<tr>
<th>WooCommerce</th>
<th>BigCommerce</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>variations[]</code></td>
<td><code>variants[]</code></td>
<td>Nested under product</td>
</tr>
<tr>
<td><code>variation.attributes[]</code></td>
<td><code>variant.option_values[]</code></td>
<td>Map attribute-&gt;option</td>
</tr>
<tr>
<td><code>variation.sku</code></td>
<td><code>variant.sku</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>variation.price</code></td>
<td><code>variant.price</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>variation.stock_quantity</code></td>
<td><code>variant.inventory_level</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>variation.image</code></td>
<td>-</td>
<td>BC variants inherit product images</td>
</tr>
</tbody></table>
<p><strong>Key Difference:</strong> WooCommerce attributes are global or per-product. BigCommerce options are always per-product. Migration must:</p>
<ol>
<li>Create product-level options from WC attributes</li>
<li>Map variation attribute values to option values</li>
</ol>
<h3>Categories</h3>
<table>
<thead>
<tr>
<th>WooCommerce</th>
<th>BigCommerce</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>-</td>
<td>Generate new</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>slug</code></td>
<td><code>custom_url.url</code></td>
<td>Transform</td>
</tr>
<tr>
<td><code>parent</code></td>
<td><code>parent_id</code></td>
<td>Map to new IDs</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>description</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>image.src</code></td>
<td><code>image_url</code></td>
<td>Direct</td>
</tr>
</tbody></table>
<h3>Customers</h3>
<table>
<thead>
<tr>
<th>WooCommerce</th>
<th>BigCommerce</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>-</td>
<td>Generate new</td>
</tr>
<tr>
<td><code>email</code></td>
<td><code>email</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>first_name</code></td>
<td><code>first_name</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>last_name</code></td>
<td><code>last_name</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>billing</code></td>
<td><code>addresses[]</code></td>
<td>Transform to address object</td>
</tr>
<tr>
<td><code>shipping</code></td>
<td><code>addresses[]</code></td>
<td>Transform to address object</td>
</tr>
<tr>
<td><code>meta_data</code></td>
<td><code>form_fields</code> / <code>attributes</code></td>
<td>Selective</td>
</tr>
<tr>
<td><code>password</code></td>
<td>-</td>
<td><strong>CANNOT MIGRATE</strong> - requires reset</td>
</tr>
</tbody></table>
<h3>Orders (Historical)</h3>
<p><strong>Decision Point:</strong> Do we migrate order history?</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Pros</th>
<th>Cons</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Don&#39;t migrate</strong></td>
<td>Simple, fast</td>
<td>Merchants lose history in BC admin</td>
</tr>
<tr>
<td><strong>Read-only import</strong></td>
<td>History visible</td>
<td>BC order import is limited</td>
</tr>
<tr>
<td><strong>Keep in WP</strong></td>
<td>Full history preserved</td>
<td>Split admin experience</td>
</tr>
</tbody></table>
<p><strong>Recommendation:</strong> Keep historical orders in WordPress. Only new orders flow through BigCommerce. Provide a &quot;unified order view&quot; widget if needed.</p>
<hr>
<h2>Phase 3: Integration Architecture</h2>
<h3>Option A: Headless (Recommended for Mid-Market)</h3>
<pre><code>┌─────────────────────────────────────────────────────────┐
│                     CUSTOMER                             │
└─────────────────────────┬───────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│                  WORDPRESS (WPEngine)                    │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │   Content   │  │   Blog      │  │   Pages         │  │
│  │   (stays)   │  │   (stays)   │  │   (stays)       │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
│                                                          │
│  ┌─────────────────────────────────────────────────────┐ │
│  │            STOREFRONT PLUGIN (NEW)                  │ │
│  │  - Renders product pages from BC data               │ │
│  │  - Cart/checkout redirects to BC                    │ │
│  │  - Customer auth via BC                             │ │
│  └─────────────────────────────────────────────────────┘ │
└─────────────────────────┬───────────────────────────────┘
                          │ REST/GraphQL
                          ▼
┌─────────────────────────────────────────────────────────┐
│                   BIGCOMMERCE                            │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │  Catalog    │  │   Orders    │  │   Customers     │  │
│  │  (source)   │  │   (new)     │  │   (migrated)    │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
│                                                          │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │  Checkout   │  │  Payments   │  │   Shipping      │  │
│  │  (hosted)   │  │  (BC)       │  │   (BC)          │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
└─────────────────────────────────────────────────────────┘
</code></pre>
<p><strong>WordPress Plugin Responsibilities:</strong></p>
<ul>
<li>Fetch product data from BC API (cached)</li>
<li>Render product listing pages</li>
<li>Render product detail pages</li>
<li>Handle add-to-cart (BC Storefront API)</li>
<li>Redirect to BC hosted checkout</li>
<li>Sync customer session</li>
</ul>
<h3>Option B: Checkout-Only (Simplest)</h3>
<p>WordPress handles everything except checkout. Minimal BC footprint.</p>
<pre><code>WordPress (Product Pages) -&gt; Add to Cart -&gt; BC Checkout -&gt; BC Order
</code></pre>
<p><strong>Pros:</strong> Simplest migration, minimal BC integration
<strong>Cons:</strong> Cart experience may feel disjointed</p>
<h3>Option C: Full BC Storefront (Not Recommended)</h3>
<p>Replace WordPress entirely with BC Stencil theme.</p>
<p><strong>Why Not:</strong> Defeats the &quot;Keep WordPress&quot; value prop.</p>
<hr>
<h2>WordPress Integration Layer</h2>
<p>WooCommerce is a WordPress plugin, not a separate system. All commerce data lives in WordPress&#39;s database. Understanding this architecture is critical to the migration strategy.</p>
<h3>WordPress Database Architecture</h3>
<pre><code>WORDPRESS DATABASE (wp_*)
│
├── wp_posts
│   ├── post_type = &#39;post&#39;              ← Blog posts (STAYS)
│   ├── post_type = &#39;page&#39;              ← Pages (STAYS)
│   ├── post_type = &#39;attachment&#39;        ← Media/images (STAYS)
│   ├── post_type = &#39;product&#39;           &lt;- WC Products (MIGRATES -&gt; BC)
│   ├── post_type = &#39;product_variation&#39; &lt;- WC Variants (MIGRATES -&gt; BC)
│   ├── post_type = &#39;shop_order&#39;        ← WC Orders (STAYS as historical)
│   └── post_type = &#39;shop_coupon&#39;       ← WC Coupons (RECREATE in BC)
│
├── wp_postmeta
│   ├── _price, _regular_price, _sale_price
│   ├── _sku, _stock, _stock_status
│   ├── _weight, _length, _width, _height
│   ├── _product_attributes (serialized)
│   └── [plugin-specific meta]          ← Yoast, RankMath, etc.
│
├── wp_users
│   └── WordPress users + WooCommerce customers = SAME TABLE
│       └── user role = &#39;customer&#39; for WC customers
│
├── wp_usermeta
│   ├── billing_* (address, phone, email)
│   ├── shipping_* (address fields)
│   ├── _order_count, _money_spent
│   └── [WC-specific customer meta]
│
├── wp_terms / wp_term_taxonomy / wp_term_relationships
│   ├── taxonomy = &#39;product_cat&#39;        ← Product categories (MIGRATES)
│   ├── taxonomy = &#39;product_tag&#39;        ← Product tags (MIGRATES)
│   └── taxonomy = &#39;pa_*&#39;               ← Product attributes (MIGRATES)
│
├── wp_woocommerce_sessions              ← Cart sessions (IGNORE)
├── wp_woocommerce_api_keys              ← API keys (IGNORE)
├── wp_woocommerce_log                   ← Logs (IGNORE)
│
└── wp_wc_* tables (HPOS - WooCommerce 8.0+)
    ├── wp_wc_orders                     ← New order storage
    ├── wp_wc_order_items
    ├── wp_wc_order_addresses
    └── wp_wc_order_operational_data
</code></pre>
<h3>Component Fate Matrix</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Before Migration</th>
<th>After Migration</th>
<th>Action</th>
</tr>
</thead>
<tbody><tr>
<td><strong>WordPress Core</strong></td>
<td>Running</td>
<td>Running</td>
<td>None</td>
</tr>
<tr>
<td><strong>Theme</strong></td>
<td>Renders WC templates</td>
<td>Renders BC data</td>
<td>Install BC Bridge</td>
</tr>
<tr>
<td><strong>WooCommerce Plugin</strong></td>
<td>Active</td>
<td>Deactivated</td>
<td>Deactivate, don&#39;t uninstall</td>
</tr>
<tr>
<td><strong>WC Extensions</strong></td>
<td>Active</td>
<td>Deactivated</td>
<td>Case-by-case</td>
</tr>
<tr>
<td><strong>Product Data</strong></td>
<td>Active in <code>wp_posts</code></td>
<td>Orphaned/archived</td>
<td>Leave dormant</td>
</tr>
<tr>
<td><strong>Order Data</strong></td>
<td>Active</td>
<td>Historical reference</td>
<td>Keep for lookups</td>
</tr>
<tr>
<td><strong>Customer Data</strong></td>
<td>In <code>wp_users</code></td>
<td>Synced to BC</td>
<td>Dual existence</td>
</tr>
<tr>
<td><strong>Blog/Pages</strong></td>
<td>Working</td>
<td>Working</td>
<td>None</td>
</tr>
<tr>
<td><strong>Media Library</strong></td>
<td>Product images</td>
<td>Still serves images</td>
<td>BC fetches URLs</td>
</tr>
<tr>
<td><strong>SEO Plugins</strong></td>
<td>Managing product SEO</td>
<td>Content SEO only</td>
<td>Reconfigure</td>
</tr>
<tr>
<td><strong>Menus/Navigation</strong></td>
<td>Links to /shop, /product/*</td>
<td>Same URLs, new handler</td>
<td>Update if needed</td>
</tr>
</tbody></table>
<h3>BC Bridge Plugin Architecture</h3>
<p>The &quot;BC Bridge&quot; plugin replaces WooCommerce&#39;s frontend while preserving WordPress.</p>
<pre><code>wp-content/plugins/bc-bridge/
├── bc-bridge.php                 ← Main plugin file
├── includes/
│   ├── class-bc-api.php          ← BigCommerce API wrapper
│   ├── class-bc-product.php      ← Product data model
│   ├── class-bc-cart.php         ← Cart management
│   ├── class-bc-customer.php     ← Customer sync
│   └── class-bc-cache.php        ← Response caching
├── templates/
│   ├── archive-product.php       ← Product listing (replaces WC)
│   ├── single-product.php        ← Product detail (replaces WC)
│   ├── cart.php                  ← Mini-cart / cart page
│   └── shortcodes/               ← [bc_products], [bc_cart], etc.
├── assets/
│   ├── js/add-to-cart.js         ← AJAX add-to-cart
│   └── css/storefront.css        ← Base styling
└── admin/
    ├── settings.php              ← BC API credentials
    └── sync-status.php           ← Migration/sync dashboard
</code></pre>
<p><strong>Route Handling:</strong></p>
<pre><code class="language-php">// BC Bridge intercepts WooCommerce routes
add_action(&#39;template_redirect&#39;, function() {
    if (is_woocommerce()) {
        // WC would handle this, but it&#39;s deactivated
        // BC Bridge takes over
    }
});

// Register same URL patterns WooCommerce used
add_rewrite_rule(&#39;^shop/?$&#39;, &#39;index.php?bc_shop=1&#39;, &#39;top&#39;);
add_rewrite_rule(&#39;^product/([^/]+)/?$&#39;, &#39;index.php?bc_product=$matches[1]&#39;, &#39;top&#39;);
add_rewrite_rule(&#39;^product-category/([^/]+)/?$&#39;, &#39;index.php?bc_category=$matches[1]&#39;, &#39;top&#39;);
</code></pre>
<p><strong>Data Flow:</strong></p>
<pre><code>┌────────────────────────────────────────────────────────────────┐
│                        VISITOR REQUEST                          │
│                     GET /product/blue-widget                    │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ▼
┌────────────────────────────────────────────────────────────────┐
│                      WORDPRESS ROUTER                           │
│            Matches rewrite rule -&gt; bc_product=blue-widget        │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ▼
┌────────────────────────────────────────────────────────────────┐
│                      BC BRIDGE PLUGIN                           │
│  1. Check cache for product data                                │
│  2. If miss: fetch from BC API by custom_url                    │
│  3. Transform to WordPress-friendly format                      │
│  4. Load template: templates/single-product.php                 │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ▼
┌────────────────────────────────────────────────────────────────┐
│                      THEME TEMPLATE                             │
│  - Uses BC Bridge template tags                                 │
│  - Renders product with theme styling                           │
│  - Add-to-cart posts to BC Storefront API                       │
└────────────────────────────────────────────────────────────────┘
</code></pre>
<h3>User/Customer Sync Strategy</h3>
<p>WordPress users and WooCommerce customers share <code>wp_users</code>. Post-migration, we need dual identity.</p>
<p><strong>Sync Approaches:</strong></p>
<table>
<thead>
<tr>
<th>Approach</th>
<th>Trigger</th>
<th>BC Customer Created</th>
<th>Complexity</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Lazy sync</strong></td>
<td>First purchase on BC</td>
<td>Yes, at checkout</td>
<td>Low</td>
</tr>
<tr>
<td><strong>Eager sync</strong></td>
<td>Migration time</td>
<td>All customers migrated</td>
<td>Medium</td>
</tr>
<tr>
<td><strong>Hybrid</strong></td>
<td>Migration + ongoing</td>
<td>Bulk + incremental</td>
<td>Medium</td>
</tr>
</tbody></table>
<p><strong>Recommended: Lazy Sync</strong></p>
<pre><code>EXISTING WP USER (hasn&#39;t purchased on BC yet)
├── wp_users.ID = 1234
├── wp_usermeta.billing_email = &quot;john@example.com&quot;
└── BC customer = NULL

USER MAKES FIRST BC PURCHASE
├── BC Bridge checks: does BC customer exist for this email?
├── No -&gt; Create BC customer via API
├── Store mapping: wp_usermeta.bc_customer_id = 98765
└── Future purchases use BC customer ID

SUBSEQUENT VISITS
├── WP session exists -&gt; check bc_customer_id
├── Fetch BC customer data (cart, addresses)
└── Render personalized experience
</code></pre>
<p><strong>Identity Mapping Table:</strong></p>
<pre><code class="language-sql">-- Optional: explicit mapping table for complex scenarios
CREATE TABLE wp_bc_customer_map (
    wp_user_id BIGINT PRIMARY KEY,
    bc_customer_id INT,
    synced_at DATETIME,
    sync_status ENUM(&#39;pending&#39;, &#39;synced&#39;, &#39;error&#39;)
);
</code></pre>
<h3>WooCommerce Deactivation Procedure</h3>
<p><strong>Critical:</strong> Deactivate, don&#39;t uninstall. WC data must remain accessible.</p>
<pre><code>PRE-DEACTIVATION CHECKLIST
├── [ ] All products migrated to BC and verified
├── [ ] BC Bridge plugin installed and tested
├── [ ] URL redirects configured (if any)
├── [ ] Customer communication sent (password reset)
├── [ ] Payment gateway configured in BC
├── [ ] Shipping methods configured in BC
├── [ ] Tax settings configured in BC
└── [ ] Staging environment tested end-to-end

## DEACTIVATION STEPS

1. Enable maintenance mode (optional)
2. Deactivate WooCommerce extensions (subscriptions, memberships, etc.)
3. Deactivate WooCommerce core plugin
4. Activate BC Bridge plugin
5. Clear all caches (object cache, page cache, CDN)
6. Test critical flows:
   - Homepage loads
   - /shop loads (from BC)
   - Product pages load (from BC)
   - Add to cart works
   - Checkout completes
7. Disable maintenance mode
8. Monitor error logs for 24-48 hours

## POST-DEACTIVATION

- WooCommerce plugin files: KEEP (don&#39;t delete)
- WC database tables: KEEP (historical data)
- WC options in wp_options: KEEP (reference)
└── WC scheduled actions: Will stop running (OK)
</code></pre>
<h3>Historical Data Access</h3>
<p>Even with WooCommerce deactivated, historical data remains queryable.</p>
<p><strong>Order Lookup (for customer service):</strong></p>
<pre><code class="language-php">// Direct database query - WC doesn&#39;t need to be active
global $wpdb;

$orders = $wpdb-&gt;get_results($wpdb-&gt;prepare(&quot;
    SELECT p.ID, p.post_date, pm.meta_value as total
    FROM {$wpdb-&gt;posts} p
    JOIN {$wpdb-&gt;postmeta} pm ON p.ID = pm.post_id AND pm.meta_key = &#39;_order_total&#39;
    WHERE p.post_type = &#39;shop_order&#39;
    AND p.post_author = %d
    ORDER BY p.post_date DESC
&quot;, $user_id));
</code></pre>
<p><strong>Admin Widget for Historical Orders:</strong></p>
<pre><code class="language-php">// Add dashboard widget showing legacy order lookup
add_action(&#39;wp_dashboard_setup&#39;, function() {
    wp_add_dashboard_widget(
        &#39;bc_legacy_orders&#39;,
        &#39;Historical Orders (Pre-Migration)&#39;,
        &#39;render_legacy_orders_widget&#39;
    );
});
</code></pre>
<h3>Theme Integration Patterns</h3>
<p><strong>Option A: Template Override (Recommended)</strong></p>
<p>BC Bridge provides templates that themes can override:</p>
<pre><code>theme/
├── bc-bridge/
│   ├── archive-product.php    ← Override listing
│   ├── single-product.php     ← Override detail
│   └── content-product.php    ← Override product card
</code></pre>
<p><strong>Option B: Shortcode-Based</strong></p>
<p>For themes that don&#39;t want template changes:</p>
<pre><code class="language-php">// In any page/template
[bc_products category=&quot;shirts&quot; limit=&quot;12&quot; columns=&quot;4&quot;]

[bc_product_detail sku=&quot;BLUE-WIDGET-001&quot;]

[bc_cart]

[bc_checkout_button text=&quot;Proceed to Checkout&quot;]
</code></pre>
<p><strong>Option C: Block-Based (Gutenberg)</strong></p>
<p>For modern block themes:</p>
<pre><code class="language-php">// Register BC blocks
register_block_type(&#39;bc-bridge/product-grid&#39;, [...]);
register_block_type(&#39;bc-bridge/product-detail&#39;, [...]);
register_block_type(&#39;bc-bridge/cart&#39;, [...]);
</code></pre>
<h3>Caching Strategy</h3>
<p>BC API calls must be cached aggressively to maintain performance.</p>
<table>
<thead>
<tr>
<th>Data Type</th>
<th>Cache TTL</th>
<th>Invalidation</th>
</tr>
</thead>
<tbody><tr>
<td>Product catalog</td>
<td>1 hour</td>
<td>Webhook on product update</td>
</tr>
<tr>
<td>Single product</td>
<td>1 hour</td>
<td>Webhook on product update</td>
</tr>
<tr>
<td>Categories</td>
<td>24 hours</td>
<td>Webhook on category update</td>
</tr>
<tr>
<td>Cart</td>
<td>No cache</td>
<td>Real-time</td>
</tr>
<tr>
<td>Customer</td>
<td>Session-based</td>
<td>On login/logout</td>
</tr>
<tr>
<td>Inventory</td>
<td>5 minutes</td>
<td>Webhook on stock change</td>
</tr>
</tbody></table>
<p><strong>Implementation:</strong></p>
<pre><code class="language-php">// Transient-based caching
function bc_get_product($slug) {
    $cache_key = &#39;bc_product_&#39; . md5($slug);
    $product = get_transient($cache_key);

    if ($product === false) {
        $product = BC_API::get_product_by_slug($slug);
        set_transient($cache_key, $product, HOUR_IN_SECONDS);
    }

    return $product;
}

// Webhook handler for cache invalidation
add_action(&#39;rest_api_init&#39;, function() {
    register_rest_route(&#39;bc-bridge/v1&#39;, &#39;/webhook&#39;, [
        &#39;methods&#39; =&gt; &#39;POST&#39;,
        &#39;callback&#39; =&gt; &#39;bc_handle_webhook&#39;,
    ]);
});

function bc_handle_webhook($request) {
    $payload = $request-&gt;get_json_params();

    if ($payload[&#39;scope&#39;] === &#39;store/product/updated&#39;) {
        $product_id = $payload[&#39;data&#39;][&#39;id&#39;];
        // Invalidate all caches for this product
        delete_transient(&#39;bc_product_&#39; . $product_id);
        // Also invalidate listing caches
        bc_invalidate_listing_caches();
    }
}
</code></pre>
<h3>Migration-Time Decisions</h3>
<table>
<thead>
<tr>
<th>Decision</th>
<th>Options</th>
<th>Recommendation</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Keep WC installed?</strong></td>
<td>Yes / No</td>
<td>Yes (deactivated)</td>
</tr>
<tr>
<td><strong>Migrate order history?</strong></td>
<td>BC / WP / Both</td>
<td>Keep in WP</td>
</tr>
<tr>
<td><strong>Customer passwords</strong></td>
<td>Reset all / Social login / Magic link</td>
<td>Reset + magic link option</td>
</tr>
<tr>
<td><strong>SEO redirects</strong></td>
<td>htaccess / plugin / CDN</td>
<td>CDN (Cloudflare)</td>
</tr>
<tr>
<td><strong>Cart persistence</strong></td>
<td>BC cart / WP session</td>
<td>BC cart (guest-friendly)</td>
</tr>
<tr>
<td><strong>Checkout location</strong></td>
<td>BC hosted / Embedded / Custom</td>
<td>BC hosted</td>
</tr>
</tbody></table>
<hr>
<h2>Phase 4: Migration Pipeline</h2>
<h3>Step-by-Step Process</h3>
<pre><code>1. ASSESSMENT (Automated)
   └── Run assessment engine
   └── Generate readiness report
   └── Merchant reviews/approves

2. PREPARATION (Semi-Automated)
   └── Create BC store (sandbox first)
   └── Configure BC settings (currency, tax, shipping zones)
   └── Set up payment gateway in BC

3. DATA MIGRATION (Automated)
   ├── Categories (must be first - products reference them)
   ├── Products (batched, 10 at a time via BC API)
   ├── Variants (nested in product creation)
   ├── Images (BC fetches from URLs)
   ├── Customers (batched, passwords excluded)
   └── [Optional] Historical orders

4. INTEGRATION SETUP (Manual)
   └── Install WordPress plugin
   └── Configure BC API credentials
   └── Test product rendering
   └── Test cart flow
   └── Test checkout

5. URL REDIRECT MAPPING (Semi-Automated)
   └── Generate WC URL to BC URL map
   └── Create .htaccess / redirect rules
   └── Verify SEO-critical pages

6. VALIDATION (Manual + Automated)
   ├── Product count match
   ├── Variant count match
   ├── Price spot-checks
   ├── Image rendering
   ├── Cart flow test
   ├── Checkout test (sandbox)
   └── Customer login test

7. CUTOVER (Coordinated)
   └── Final delta sync (products changed since migration)
   └── DNS/redirect activation
   └── Go-live
   └── Monitor for 24-48 hours
</code></pre>
<hr>
<h2>Phase 5: Validation Framework</h2>
<h3>Automated Checks</h3>
<table>
<thead>
<tr>
<th>Check</th>
<th>Method</th>
<th>Pass Criteria</th>
</tr>
</thead>
<tbody><tr>
<td>Product count</td>
<td>Compare API counts</td>
<td>WC = BC</td>
</tr>
<tr>
<td>SKU uniqueness</td>
<td>BC API validation</td>
<td>No duplicates</td>
</tr>
<tr>
<td>Category hierarchy</td>
<td>Tree comparison</td>
<td>Structure matches</td>
</tr>
<tr>
<td>Image availability</td>
<td>HTTP HEAD checks</td>
<td>All 200 OK</td>
</tr>
<tr>
<td>Price accuracy</td>
<td>Sample comparison</td>
<td>100% match on sample</td>
</tr>
<tr>
<td>Variant completeness</td>
<td>Count per product</td>
<td>WC variants = BC variants</td>
</tr>
</tbody></table>
<h3>Manual Checks</h3>
<table>
<thead>
<tr>
<th>Check</th>
<th>Owner</th>
<th>Sign-off</th>
</tr>
</thead>
<tbody><tr>
<td>Homepage renders correctly</td>
<td>Merchant</td>
<td>Y/N</td>
</tr>
<tr>
<td>Product pages render correctly</td>
<td>Merchant</td>
<td>Y/N</td>
</tr>
<tr>
<td>Add to cart works</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Checkout completes (sandbox)</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Customer can log in</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Order appears in BC admin</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Order notification emails sent</td>
<td>QA</td>
<td>Y/N</td>
</tr>
</tbody></table>
<hr>
<h2>Technical Decisions Needed</h2>
<h3>1. What&#39;s the WordPress integration pattern?</h3>
<ul>
<li><input disabled="" type="checkbox"> Custom plugin (build from scratch)</li>
<li><input disabled="" type="checkbox"> Extend existing BC for WP plugin (if still maintained)</li>
<li><input disabled="" type="checkbox"> Headless with Next.js/Vercel in front of WP</li>
</ul>
<h3>2. Do we migrate order history?</h3>
<ul>
<li><input disabled="" type="checkbox"> No - keep in WP, accept split admin</li>
<li><input disabled="" type="checkbox"> Yes - import as read-only in BC</li>
<li><input disabled="" type="checkbox"> Hybrid - unified view via custom dashboard</li>
</ul>
<h3>3. How do we handle customer passwords?</h3>
<ul>
<li><input disabled="" type="checkbox"> Force reset on first login (standard)</li>
<li><input disabled="" type="checkbox"> Social login as alternative (reduce friction)</li>
<li><input disabled="" type="checkbox"> Magic link option (email-based auth)</li>
</ul>
<h3>4. What&#39;s the cart/checkout experience?</h3>
<ul>
<li><input disabled="" type="checkbox"> Redirect to BC hosted checkout (simplest)</li>
<li><input disabled="" type="checkbox"> Embedded BC checkout in WP (medium complexity)</li>
<li><input disabled="" type="checkbox"> Fully custom checkout via BC API (highest complexity)</li>
</ul>
<h3>5. How do we handle SEO redirects?</h3>
<ul>
<li><input disabled="" type="checkbox"> WordPress .htaccess rules</li>
<li><input disabled="" type="checkbox"> Cloudflare/CDN-level redirects</li>
<li><input disabled="" type="checkbox"> Plugin-based redirect manager</li>
</ul>
<hr>
<h2>API Rate Limits &amp; Batching</h2>
<h3>BigCommerce Limits</h3>
<ul>
<li><strong>Standard:</strong> 150 requests/30 seconds (sliding window)</li>
<li><strong>Enterprise:</strong> Higher limits negotiable</li>
<li><strong>Batch endpoints:</strong> Up to 10 items per request</li>
</ul>
<h3>Migration Batching Strategy</h3>
<pre><code class="language-python"># Pseudocode for batched product migration
BATCH_SIZE = 10
RATE_LIMIT_DELAY = 0.5  # seconds between batches

products = fetch_all_wc_products()
for batch in chunk(products, BATCH_SIZE):
    bc_products = transform_batch(batch)
    response = bc_api.products.create_batch(bc_products)
    log_results(response)
    sleep(RATE_LIMIT_DELAY)
</code></pre>
<h3>Estimated Migration Times</h3>
<table>
<thead>
<tr>
<th>Store Size</th>
<th>Products</th>
<th>Est. Time</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td>Small</td>
<td>Less than 500</td>
<td>15-30 min</td>
<td>Single batch run</td>
</tr>
<tr>
<td>Medium</td>
<td>500-5K</td>
<td>1-2 hours</td>
<td>Rate limit aware</td>
</tr>
<tr>
<td>Large</td>
<td>5K-50K</td>
<td>4-8 hours</td>
<td>May need overnight</td>
</tr>
<tr>
<td>Enterprise</td>
<td>50K+</td>
<td>12-24 hours</td>
<td>Parallel processing</td>
</tr>
</tbody></table>
<hr>
<h2>Open Questions for BigCommerce Team</h2>
<ol>
<li><strong>Is there a bulk import API</strong> beyond the batch endpoints? (CSV upload, etc.)</li>
<li><strong>What&#39;s the variant limit per product?</strong> (Docs say 600)</li>
<li><strong>Can we import orders as &quot;completed/historical&quot;</strong> without triggering fulfillment?</li>
<li><strong>Is there a sandbox environment</strong> with production-like API behavior?</li>
<li><strong>What&#39;s the customer password situation?</strong> (Confirm no migration path)</li>
<li><strong>Are there webhook limits</strong> for real-time sync scenarios?</li>
</ol>
<hr>
<h2>Next Steps</h2>
<ol>
<li><strong>Spike: Assessment Engine</strong> - Build the readiness assessment tool</li>
<li><strong>Spike: Product Migration</strong> - Migrate 100 products from test WC store to BC sandbox</li>
<li><strong>Spike: WordPress Plugin</strong> - POC for product rendering from BC API</li>
<li><strong>Decision: Integration Pattern</strong> - Choose headless vs checkout-redirect</li>
<li><strong>Decision: Order History</strong> - Determine migration strategy</li>
</ol>
<hr>
<h2>Summary: The &quot;Keep WordPress&quot; Migration</h2>
<pre><code>BEFORE                              AFTER
┌─────────────────────┐            ┌─────────────────────┐
│     WORDPRESS       │            │     WORDPRESS       │
│  ┌───────────────┐  │            │  ┌───────────────┐  │
│  │  WooCommerce  │  │            │  │  BC Bridge    │  │
│  │  (active)     │  │   ───►     │  │  (active)     │  │
│  │               │  │            │  │               │  │
│  │  Products     │  │            │  │  Products ────┼──┼──► BC API
│  │  Orders       │  │            │  │  Orders ──────┼──┼──► BC API
│  │  Customers    │  │            │  │  Customers ───┼──┼──► BC API
│  │  Checkout     │  │            │  │  Checkout ────┼──┼──► BC Hosted
│  └───────────────┘  │            │  └───────────────┘  │
│                     │            │  ┌───────────────┐  │
│  Blog, Pages,       │            │  │  WooCommerce  │  │
│  Media, Theme       │            │  │  (deactivated)│  │
│  (unchanged)        │            │  │  Historical   │  │
│                     │            │  │  data only    │  │
└─────────────────────┘            │  └───────────────┘  │
                                   │                     │
                                   │  Blog, Pages,       │
                                   │  Media, Theme       │
                                   │  (unchanged)        │
                                   └─────────────────────┘
</code></pre>
<p><strong>What migrates:</strong> Products, categories, customers (no passwords)
<strong>What stays:</strong> WordPress, theme, blog, pages, media, historical orders
<strong>What changes:</strong> Commerce operations route through BigCommerce
<strong>What the merchant sees:</strong> Same WordPress admin + new BC admin for commerce</p>
<hr>
<p><em>Document Version: 0.2</em>
<em>Last Updated: December 2025</em>
<em>Status: Draft - Technical Discovery</em>
<em>Added: WordPress Integration Layer, BC Bridge Plugin architecture</em></p>

</body>#39;, &#39;index.php?bc_product=$matches[1]&#39;, &#39;top&#39;);
add_rewrite_rule(&#39;^product-category/([^/]+)/?<body>
<h1>WooCommerce to BigCommerce Migration Architecture</h1>
<h2>Overview</h2>
<p>This document defines the technical architecture for a low-friction, highly-automated migration path from WooCommerce to BigCommerce while preserving WordPress.</p>
<p><strong>Goal:</strong> Make migration dramatically easier than BigCommerce&#39;s current reputation suggests.</p>
<hr>
<h2>Phase 1: Assessment Engine</h2>
<h3>What It Does</h3>
<p>Analyzes a WooCommerce store and produces a migration readiness report with effort estimates.</p>
<h3>Data Points to Collect</h3>
<table>
<thead>
<tr>
<th>Category</th>
<th>Data Point</th>
<th>Method</th>
<th>Complexity Signal</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Scale</strong></td>
<td>Product count</td>
<td>WC REST API <code>/products?per_page=1</code> (check headers)</td>
<td>&gt;10K = high</td>
</tr>
<tr>
<td><strong>Scale</strong></td>
<td>Variant count</td>
<td>WC REST API <code>/products?type=variable</code></td>
<td>&gt;50K SKUs = high</td>
</tr>
<tr>
<td><strong>Scale</strong></td>
<td>Order count</td>
<td>WC REST API <code>/orders?per_page=1</code></td>
<td>Historical only</td>
</tr>
<tr>
<td><strong>Scale</strong></td>
<td>Customer count</td>
<td>WC REST API <code>/customers?per_page=1</code></td>
<td>Password reset required</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Product types</td>
<td>WC REST API</td>
<td>grouped/external = medium</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Custom attributes</td>
<td>WC REST API <code>/products/attributes</code></td>
<td>&gt;20 = high</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Active plugins</td>
<td>WP REST API <code>/plugins</code></td>
<td>Payment/shipping integrations</td>
</tr>
<tr>
<td><strong>Complexity</strong></td>
<td>Meta fields per product</td>
<td>Sample query</td>
<td>&gt;50 avg = high</td>
</tr>
<tr>
<td><strong>SEO</strong></td>
<td>URL structure</td>
<td>Permalink settings</td>
<td>Custom = redirect mapping</td>
</tr>
<tr>
<td><strong>SEO</strong></td>
<td>Yoast/RankMath data</td>
<td>Plugin-specific meta</td>
<td>SEO preservation</td>
</tr>
<tr>
<td><strong>Content</strong></td>
<td>Pages/Posts</td>
<td>WP REST API</td>
<td>Stays in WordPress</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Payment gateways</td>
<td>WC settings</td>
<td>Reconfiguration needed</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Shipping methods</td>
<td>WC settings</td>
<td>Reconfiguration needed</td>
</tr>
<tr>
<td><strong>Integrations</strong></td>
<td>Tax settings</td>
<td>WC settings</td>
<td>May need TaxJar/Avalara</td>
</tr>
</tbody></table>
<h3>Readiness Score Output</h3>
<pre><code>MIGRATION READINESS ASSESSMENT
==============================
Store: example-store.com
Assessed: 2024-12-17

SCALE METRICS
├── Products: 2,847 (simple: 2,100, variable: 747)
├── Total SKUs: 8,234
├── Categories: 45
├── Customers: 12,500
└── Historical Orders: 45,000

COMPLEXITY SCORE: MEDIUM (62/100)
├── Custom attributes: 12 (low)
├── Product meta density: 23 avg (medium)
├── Plugin integrations: 8 (medium)
└── URL customization: Standard permalinks (low)

ESTIMATED EFFORT
├── Data migration: 4-6 hours (automated)
├── Integration setup: 2-4 hours (manual)
├── URL redirect mapping: 1-2 hours (semi-automated)
├── UAT/Validation: 4-8 hours (manual)
└── TOTAL: 11-20 hours

BLOCKERS IDENTIFIED
├── [WARN] Plugin &quot;WooCommerce Subscriptions&quot; - requires manual migration
├── [WARN] 3 products have &gt;100 variations - BC limit is 600, OK
└── [INFO] Customer passwords will require reset on first login

RECOMMENDATION: PROCEED - Standard migration path
</code></pre>
<hr>
<h2>Phase 2: Data Model Mapping</h2>
<h3>Products</h3>
<table>
<thead>
<tr>
<th>WooCommerce Field</th>
<th>BigCommerce Field</th>
<th>Transform</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>-</td>
<td>Generate new</td>
<td>BC assigns IDs</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td>Direct</td>
<td>Max 250 chars in BC</td>
</tr>
<tr>
<td><code>slug</code></td>
<td><code>custom_url.url</code></td>
<td>Transform</td>
<td>Add leading <code>/</code></td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>type</code></td>
<td>Map</td>
<td>simple-&gt;physical, variable-&gt;physical</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>is_visible</code></td>
<td>Map</td>
<td>publish-&gt;true</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>description</code></td>
<td>Direct</td>
<td>HTML preserved</td>
</tr>
<tr>
<td><code>short_description</code></td>
<td>-</td>
<td>Append to description</td>
<td>BC has no short desc</td>
</tr>
<tr>
<td><code>sku</code></td>
<td><code>sku</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>price</code></td>
<td><code>price</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>regular_price</code></td>
<td><code>price</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>sale_price</code></td>
<td><code>sale_price</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>manage_stock</code></td>
<td><code>inventory_tracking</code></td>
<td>Map</td>
<td>true-&gt;&#39;product&#39;</td>
</tr>
<tr>
<td><code>stock_quantity</code></td>
<td><code>inventory_level</code></td>
<td>Direct</td>
<td></td>
</tr>
<tr>
<td><code>weight</code></td>
<td><code>weight</code></td>
<td>Convert</td>
<td>WC uses store units</td>
</tr>
<tr>
<td><code>dimensions.length</code></td>
<td><code>depth</code></td>
<td>Convert</td>
<td>WC uses store units</td>
</tr>
<tr>
<td><code>dimensions.width</code></td>
<td><code>width</code></td>
<td>Convert</td>
<td></td>
</tr>
<tr>
<td><code>dimensions.height</code></td>
<td><code>height</code></td>
<td>Convert</td>
<td></td>
</tr>
<tr>
<td><code>categories[].id</code></td>
<td><code>categories[]</code></td>
<td>Map IDs</td>
<td>Pre-migrate categories</td>
</tr>
<tr>
<td><code>images[].src</code></td>
<td><code>images[].image_url</code></td>
<td>Direct</td>
<td>BC fetches from URL</td>
</tr>
<tr>
<td><code>attributes[]</code></td>
<td><code>options[]</code></td>
<td>Transform</td>
<td>See variants section</td>
</tr>
<tr>
<td><code>meta_data[]</code></td>
<td><code>custom_fields[]</code></td>
<td>Selective</td>
<td>Filter relevant meta</td>
</tr>
</tbody></table>
<h3>Variants (Variable Products)</h3>
<table>
<thead>
<tr>
<th>WooCommerce</th>
<th>BigCommerce</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>variations[]</code></td>
<td><code>variants[]</code></td>
<td>Nested under product</td>
</tr>
<tr>
<td><code>variation.attributes[]</code></td>
<td><code>variant.option_values[]</code></td>
<td>Map attribute-&gt;option</td>
</tr>
<tr>
<td><code>variation.sku</code></td>
<td><code>variant.sku</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>variation.price</code></td>
<td><code>variant.price</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>variation.stock_quantity</code></td>
<td><code>variant.inventory_level</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>variation.image</code></td>
<td>-</td>
<td>BC variants inherit product images</td>
</tr>
</tbody></table>
<p><strong>Key Difference:</strong> WooCommerce attributes are global or per-product. BigCommerce options are always per-product. Migration must:</p>
<ol>
<li>Create product-level options from WC attributes</li>
<li>Map variation attribute values to option values</li>
</ol>
<h3>Categories</h3>
<table>
<thead>
<tr>
<th>WooCommerce</th>
<th>BigCommerce</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>-</td>
<td>Generate new</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>slug</code></td>
<td><code>custom_url.url</code></td>
<td>Transform</td>
</tr>
<tr>
<td><code>parent</code></td>
<td><code>parent_id</code></td>
<td>Map to new IDs</td>
</tr>
<tr>
<td><code>description</code></td>
<td><code>description</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>image.src</code></td>
<td><code>image_url</code></td>
<td>Direct</td>
</tr>
</tbody></table>
<h3>Customers</h3>
<table>
<thead>
<tr>
<th>WooCommerce</th>
<th>BigCommerce</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>-</td>
<td>Generate new</td>
</tr>
<tr>
<td><code>email</code></td>
<td><code>email</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>first_name</code></td>
<td><code>first_name</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>last_name</code></td>
<td><code>last_name</code></td>
<td>Direct</td>
</tr>
<tr>
<td><code>billing</code></td>
<td><code>addresses[]</code></td>
<td>Transform to address object</td>
</tr>
<tr>
<td><code>shipping</code></td>
<td><code>addresses[]</code></td>
<td>Transform to address object</td>
</tr>
<tr>
<td><code>meta_data</code></td>
<td><code>form_fields</code> / <code>attributes</code></td>
<td>Selective</td>
</tr>
<tr>
<td><code>password</code></td>
<td>-</td>
<td><strong>CANNOT MIGRATE</strong> - requires reset</td>
</tr>
</tbody></table>
<h3>Orders (Historical)</h3>
<p><strong>Decision Point:</strong> Do we migrate order history?</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Pros</th>
<th>Cons</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Don&#39;t migrate</strong></td>
<td>Simple, fast</td>
<td>Merchants lose history in BC admin</td>
</tr>
<tr>
<td><strong>Read-only import</strong></td>
<td>History visible</td>
<td>BC order import is limited</td>
</tr>
<tr>
<td><strong>Keep in WP</strong></td>
<td>Full history preserved</td>
<td>Split admin experience</td>
</tr>
</tbody></table>
<p><strong>Recommendation:</strong> Keep historical orders in WordPress. Only new orders flow through BigCommerce. Provide a &quot;unified order view&quot; widget if needed.</p>
<hr>
<h2>Phase 3: Integration Architecture</h2>
<h3>Option A: Headless (Recommended for Mid-Market)</h3>
<pre><code>┌─────────────────────────────────────────────────────────┐
│                     CUSTOMER                             │
└─────────────────────────┬───────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────┐
│                  WORDPRESS (WPEngine)                    │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │   Content   │  │   Blog      │  │   Pages         │  │
│  │   (stays)   │  │   (stays)   │  │   (stays)       │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
│                                                          │
│  ┌─────────────────────────────────────────────────────┐ │
│  │            STOREFRONT PLUGIN (NEW)                  │ │
│  │  - Renders product pages from BC data               │ │
│  │  - Cart/checkout redirects to BC                    │ │
│  │  - Customer auth via BC                             │ │
│  └─────────────────────────────────────────────────────┘ │
└─────────────────────────┬───────────────────────────────┘
                          │ REST/GraphQL
                          ▼
┌─────────────────────────────────────────────────────────┐
│                   BIGCOMMERCE                            │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │  Catalog    │  │   Orders    │  │   Customers     │  │
│  │  (source)   │  │   (new)     │  │   (migrated)    │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
│                                                          │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │  Checkout   │  │  Payments   │  │   Shipping      │  │
│  │  (hosted)   │  │  (BC)       │  │   (BC)          │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
└─────────────────────────────────────────────────────────┘
</code></pre>
<p><strong>WordPress Plugin Responsibilities:</strong></p>
<ul>
<li>Fetch product data from BC API (cached)</li>
<li>Render product listing pages</li>
<li>Render product detail pages</li>
<li>Handle add-to-cart (BC Storefront API)</li>
<li>Redirect to BC hosted checkout</li>
<li>Sync customer session</li>
</ul>
<h3>Option B: Checkout-Only (Simplest)</h3>
<p>WordPress handles everything except checkout. Minimal BC footprint.</p>
<pre><code>WordPress (Product Pages) -&gt; Add to Cart -&gt; BC Checkout -&gt; BC Order
</code></pre>
<p><strong>Pros:</strong> Simplest migration, minimal BC integration
<strong>Cons:</strong> Cart experience may feel disjointed</p>
<h3>Option C: Full BC Storefront (Not Recommended)</h3>
<p>Replace WordPress entirely with BC Stencil theme.</p>
<p><strong>Why Not:</strong> Defeats the &quot;Keep WordPress&quot; value prop.</p>
<hr>
<h2>WordPress Integration Layer</h2>
<p>WooCommerce is a WordPress plugin, not a separate system. All commerce data lives in WordPress&#39;s database. Understanding this architecture is critical to the migration strategy.</p>
<h3>WordPress Database Architecture</h3>
<pre><code>WORDPRESS DATABASE (wp_*)
│
├── wp_posts
│   ├── post_type = &#39;post&#39;              ← Blog posts (STAYS)
│   ├── post_type = &#39;page&#39;              ← Pages (STAYS)
│   ├── post_type = &#39;attachment&#39;        ← Media/images (STAYS)
│   ├── post_type = &#39;product&#39;           &lt;- WC Products (MIGRATES -&gt; BC)
│   ├── post_type = &#39;product_variation&#39; &lt;- WC Variants (MIGRATES -&gt; BC)
│   ├── post_type = &#39;shop_order&#39;        ← WC Orders (STAYS as historical)
│   └── post_type = &#39;shop_coupon&#39;       ← WC Coupons (RECREATE in BC)
│
├── wp_postmeta
│   ├── _price, _regular_price, _sale_price
│   ├── _sku, _stock, _stock_status
│   ├── _weight, _length, _width, _height
│   ├── _product_attributes (serialized)
│   └── [plugin-specific meta]          ← Yoast, RankMath, etc.
│
├── wp_users
│   └── WordPress users + WooCommerce customers = SAME TABLE
│       └── user role = &#39;customer&#39; for WC customers
│
├── wp_usermeta
│   ├── billing_* (address, phone, email)
│   ├── shipping_* (address fields)
│   ├── _order_count, _money_spent
│   └── [WC-specific customer meta]
│
├── wp_terms / wp_term_taxonomy / wp_term_relationships
│   ├── taxonomy = &#39;product_cat&#39;        ← Product categories (MIGRATES)
│   ├── taxonomy = &#39;product_tag&#39;        ← Product tags (MIGRATES)
│   └── taxonomy = &#39;pa_*&#39;               ← Product attributes (MIGRATES)
│
├── wp_woocommerce_sessions              ← Cart sessions (IGNORE)
├── wp_woocommerce_api_keys              ← API keys (IGNORE)
├── wp_woocommerce_log                   ← Logs (IGNORE)
│
└── wp_wc_* tables (HPOS - WooCommerce 8.0+)
    ├── wp_wc_orders                     ← New order storage
    ├── wp_wc_order_items
    ├── wp_wc_order_addresses
    └── wp_wc_order_operational_data
</code></pre>
<h3>Component Fate Matrix</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Before Migration</th>
<th>After Migration</th>
<th>Action</th>
</tr>
</thead>
<tbody><tr>
<td><strong>WordPress Core</strong></td>
<td>Running</td>
<td>Running</td>
<td>None</td>
</tr>
<tr>
<td><strong>Theme</strong></td>
<td>Renders WC templates</td>
<td>Renders BC data</td>
<td>Install BC Bridge</td>
</tr>
<tr>
<td><strong>WooCommerce Plugin</strong></td>
<td>Active</td>
<td>Deactivated</td>
<td>Deactivate, don&#39;t uninstall</td>
</tr>
<tr>
<td><strong>WC Extensions</strong></td>
<td>Active</td>
<td>Deactivated</td>
<td>Case-by-case</td>
</tr>
<tr>
<td><strong>Product Data</strong></td>
<td>Active in <code>wp_posts</code></td>
<td>Orphaned/archived</td>
<td>Leave dormant</td>
</tr>
<tr>
<td><strong>Order Data</strong></td>
<td>Active</td>
<td>Historical reference</td>
<td>Keep for lookups</td>
</tr>
<tr>
<td><strong>Customer Data</strong></td>
<td>In <code>wp_users</code></td>
<td>Synced to BC</td>
<td>Dual existence</td>
</tr>
<tr>
<td><strong>Blog/Pages</strong></td>
<td>Working</td>
<td>Working</td>
<td>None</td>
</tr>
<tr>
<td><strong>Media Library</strong></td>
<td>Product images</td>
<td>Still serves images</td>
<td>BC fetches URLs</td>
</tr>
<tr>
<td><strong>SEO Plugins</strong></td>
<td>Managing product SEO</td>
<td>Content SEO only</td>
<td>Reconfigure</td>
</tr>
<tr>
<td><strong>Menus/Navigation</strong></td>
<td>Links to /shop, /product/*</td>
<td>Same URLs, new handler</td>
<td>Update if needed</td>
</tr>
</tbody></table>
<h3>BC Bridge Plugin Architecture</h3>
<p>The &quot;BC Bridge&quot; plugin replaces WooCommerce&#39;s frontend while preserving WordPress.</p>
<pre><code>wp-content/plugins/bc-bridge/
├── bc-bridge.php                 ← Main plugin file
├── includes/
│   ├── class-bc-api.php          ← BigCommerce API wrapper
│   ├── class-bc-product.php      ← Product data model
│   ├── class-bc-cart.php         ← Cart management
│   ├── class-bc-customer.php     ← Customer sync
│   └── class-bc-cache.php        ← Response caching
├── templates/
│   ├── archive-product.php       ← Product listing (replaces WC)
│   ├── single-product.php        ← Product detail (replaces WC)
│   ├── cart.php                  ← Mini-cart / cart page
│   └── shortcodes/               ← [bc_products], [bc_cart], etc.
├── assets/
│   ├── js/add-to-cart.js         ← AJAX add-to-cart
│   └── css/storefront.css        ← Base styling
└── admin/
    ├── settings.php              ← BC API credentials
    └── sync-status.php           ← Migration/sync dashboard
</code></pre>
<p><strong>Route Handling:</strong></p>
<pre><code class="language-php">// BC Bridge intercepts WooCommerce routes
add_action(&#39;template_redirect&#39;, function() {
    if (is_woocommerce()) {
        // WC would handle this, but it&#39;s deactivated
        // BC Bridge takes over
    }
});

// Register same URL patterns WooCommerce used
add_rewrite_rule(&#39;^shop/?$&#39;, &#39;index.php?bc_shop=1&#39;, &#39;top&#39;);
add_rewrite_rule(&#39;^product/([^/]+)/?$&#39;, &#39;index.php?bc_product=$matches[1]&#39;, &#39;top&#39;);
add_rewrite_rule(&#39;^product-category/([^/]+)/?$&#39;, &#39;index.php?bc_category=$matches[1]&#39;, &#39;top&#39;);
</code></pre>
<p><strong>Data Flow:</strong></p>
<pre><code>┌────────────────────────────────────────────────────────────────┐
│                        VISITOR REQUEST                          │
│                     GET /product/blue-widget                    │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ▼
┌────────────────────────────────────────────────────────────────┐
│                      WORDPRESS ROUTER                           │
│            Matches rewrite rule -&gt; bc_product=blue-widget        │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ▼
┌────────────────────────────────────────────────────────────────┐
│                      BC BRIDGE PLUGIN                           │
│  1. Check cache for product data                                │
│  2. If miss: fetch from BC API by custom_url                    │
│  3. Transform to WordPress-friendly format                      │
│  4. Load template: templates/single-product.php                 │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ▼
┌────────────────────────────────────────────────────────────────┐
│                      THEME TEMPLATE                             │
│  - Uses BC Bridge template tags                                 │
│  - Renders product with theme styling                           │
│  - Add-to-cart posts to BC Storefront API                       │
└────────────────────────────────────────────────────────────────┘
</code></pre>
<h3>User/Customer Sync Strategy</h3>
<p>WordPress users and WooCommerce customers share <code>wp_users</code>. Post-migration, we need dual identity.</p>
<p><strong>Sync Approaches:</strong></p>
<table>
<thead>
<tr>
<th>Approach</th>
<th>Trigger</th>
<th>BC Customer Created</th>
<th>Complexity</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Lazy sync</strong></td>
<td>First purchase on BC</td>
<td>Yes, at checkout</td>
<td>Low</td>
</tr>
<tr>
<td><strong>Eager sync</strong></td>
<td>Migration time</td>
<td>All customers migrated</td>
<td>Medium</td>
</tr>
<tr>
<td><strong>Hybrid</strong></td>
<td>Migration + ongoing</td>
<td>Bulk + incremental</td>
<td>Medium</td>
</tr>
</tbody></table>
<p><strong>Recommended: Lazy Sync</strong></p>
<pre><code>EXISTING WP USER (hasn&#39;t purchased on BC yet)
├── wp_users.ID = 1234
├── wp_usermeta.billing_email = &quot;john@example.com&quot;
└── BC customer = NULL

USER MAKES FIRST BC PURCHASE
├── BC Bridge checks: does BC customer exist for this email?
├── No -&gt; Create BC customer via API
├── Store mapping: wp_usermeta.bc_customer_id = 98765
└── Future purchases use BC customer ID

SUBSEQUENT VISITS
├── WP session exists -&gt; check bc_customer_id
├── Fetch BC customer data (cart, addresses)
└── Render personalized experience
</code></pre>
<p><strong>Identity Mapping Table:</strong></p>
<pre><code class="language-sql">-- Optional: explicit mapping table for complex scenarios
CREATE TABLE wp_bc_customer_map (
    wp_user_id BIGINT PRIMARY KEY,
    bc_customer_id INT,
    synced_at DATETIME,
    sync_status ENUM(&#39;pending&#39;, &#39;synced&#39;, &#39;error&#39;)
);
</code></pre>
<h3>WooCommerce Deactivation Procedure</h3>
<p><strong>Critical:</strong> Deactivate, don&#39;t uninstall. WC data must remain accessible.</p>
<pre><code>PRE-DEACTIVATION CHECKLIST
├── [ ] All products migrated to BC and verified
├── [ ] BC Bridge plugin installed and tested
├── [ ] URL redirects configured (if any)
├── [ ] Customer communication sent (password reset)
├── [ ] Payment gateway configured in BC
├── [ ] Shipping methods configured in BC
├── [ ] Tax settings configured in BC
└── [ ] Staging environment tested end-to-end

## DEACTIVATION STEPS

1. Enable maintenance mode (optional)
2. Deactivate WooCommerce extensions (subscriptions, memberships, etc.)
3. Deactivate WooCommerce core plugin
4. Activate BC Bridge plugin
5. Clear all caches (object cache, page cache, CDN)
6. Test critical flows:
   - Homepage loads
   - /shop loads (from BC)
   - Product pages load (from BC)
   - Add to cart works
   - Checkout completes
7. Disable maintenance mode
8. Monitor error logs for 24-48 hours

## POST-DEACTIVATION

- WooCommerce plugin files: KEEP (don&#39;t delete)
- WC database tables: KEEP (historical data)
- WC options in wp_options: KEEP (reference)
└── WC scheduled actions: Will stop running (OK)
</code></pre>
<h3>Historical Data Access</h3>
<p>Even with WooCommerce deactivated, historical data remains queryable.</p>
<p><strong>Order Lookup (for customer service):</strong></p>
<pre><code class="language-php">// Direct database query - WC doesn&#39;t need to be active
global $wpdb;

$orders = $wpdb-&gt;get_results($wpdb-&gt;prepare(&quot;
    SELECT p.ID, p.post_date, pm.meta_value as total
    FROM {$wpdb-&gt;posts} p
    JOIN {$wpdb-&gt;postmeta} pm ON p.ID = pm.post_id AND pm.meta_key = &#39;_order_total&#39;
    WHERE p.post_type = &#39;shop_order&#39;
    AND p.post_author = %d
    ORDER BY p.post_date DESC
&quot;, $user_id));
</code></pre>
<p><strong>Admin Widget for Historical Orders:</strong></p>
<pre><code class="language-php">// Add dashboard widget showing legacy order lookup
add_action(&#39;wp_dashboard_setup&#39;, function() {
    wp_add_dashboard_widget(
        &#39;bc_legacy_orders&#39;,
        &#39;Historical Orders (Pre-Migration)&#39;,
        &#39;render_legacy_orders_widget&#39;
    );
});
</code></pre>
<h3>Theme Integration Patterns</h3>
<p><strong>Option A: Template Override (Recommended)</strong></p>
<p>BC Bridge provides templates that themes can override:</p>
<pre><code>theme/
├── bc-bridge/
│   ├── archive-product.php    ← Override listing
│   ├── single-product.php     ← Override detail
│   └── content-product.php    ← Override product card
</code></pre>
<p><strong>Option B: Shortcode-Based</strong></p>
<p>For themes that don&#39;t want template changes:</p>
<pre><code class="language-php">// In any page/template
[bc_products category=&quot;shirts&quot; limit=&quot;12&quot; columns=&quot;4&quot;]

[bc_product_detail sku=&quot;BLUE-WIDGET-001&quot;]

[bc_cart]

[bc_checkout_button text=&quot;Proceed to Checkout&quot;]
</code></pre>
<p><strong>Option C: Block-Based (Gutenberg)</strong></p>
<p>For modern block themes:</p>
<pre><code class="language-php">// Register BC blocks
register_block_type(&#39;bc-bridge/product-grid&#39;, [...]);
register_block_type(&#39;bc-bridge/product-detail&#39;, [...]);
register_block_type(&#39;bc-bridge/cart&#39;, [...]);
</code></pre>
<h3>Caching Strategy</h3>
<p>BC API calls must be cached aggressively to maintain performance.</p>
<table>
<thead>
<tr>
<th>Data Type</th>
<th>Cache TTL</th>
<th>Invalidation</th>
</tr>
</thead>
<tbody><tr>
<td>Product catalog</td>
<td>1 hour</td>
<td>Webhook on product update</td>
</tr>
<tr>
<td>Single product</td>
<td>1 hour</td>
<td>Webhook on product update</td>
</tr>
<tr>
<td>Categories</td>
<td>24 hours</td>
<td>Webhook on category update</td>
</tr>
<tr>
<td>Cart</td>
<td>No cache</td>
<td>Real-time</td>
</tr>
<tr>
<td>Customer</td>
<td>Session-based</td>
<td>On login/logout</td>
</tr>
<tr>
<td>Inventory</td>
<td>5 minutes</td>
<td>Webhook on stock change</td>
</tr>
</tbody></table>
<p><strong>Implementation:</strong></p>
<pre><code class="language-php">// Transient-based caching
function bc_get_product($slug) {
    $cache_key = &#39;bc_product_&#39; . md5($slug);
    $product = get_transient($cache_key);

    if ($product === false) {
        $product = BC_API::get_product_by_slug($slug);
        set_transient($cache_key, $product, HOUR_IN_SECONDS);
    }

    return $product;
}

// Webhook handler for cache invalidation
add_action(&#39;rest_api_init&#39;, function() {
    register_rest_route(&#39;bc-bridge/v1&#39;, &#39;/webhook&#39;, [
        &#39;methods&#39; =&gt; &#39;POST&#39;,
        &#39;callback&#39; =&gt; &#39;bc_handle_webhook&#39;,
    ]);
});

function bc_handle_webhook($request) {
    $payload = $request-&gt;get_json_params();

    if ($payload[&#39;scope&#39;] === &#39;store/product/updated&#39;) {
        $product_id = $payload[&#39;data&#39;][&#39;id&#39;];
        // Invalidate all caches for this product
        delete_transient(&#39;bc_product_&#39; . $product_id);
        // Also invalidate listing caches
        bc_invalidate_listing_caches();
    }
}
</code></pre>
<h3>Migration-Time Decisions</h3>
<table>
<thead>
<tr>
<th>Decision</th>
<th>Options</th>
<th>Recommendation</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Keep WC installed?</strong></td>
<td>Yes / No</td>
<td>Yes (deactivated)</td>
</tr>
<tr>
<td><strong>Migrate order history?</strong></td>
<td>BC / WP / Both</td>
<td>Keep in WP</td>
</tr>
<tr>
<td><strong>Customer passwords</strong></td>
<td>Reset all / Social login / Magic link</td>
<td>Reset + magic link option</td>
</tr>
<tr>
<td><strong>SEO redirects</strong></td>
<td>htaccess / plugin / CDN</td>
<td>CDN (Cloudflare)</td>
</tr>
<tr>
<td><strong>Cart persistence</strong></td>
<td>BC cart / WP session</td>
<td>BC cart (guest-friendly)</td>
</tr>
<tr>
<td><strong>Checkout location</strong></td>
<td>BC hosted / Embedded / Custom</td>
<td>BC hosted</td>
</tr>
</tbody></table>
<hr>
<h2>Phase 4: Migration Pipeline</h2>
<h3>Step-by-Step Process</h3>
<pre><code>1. ASSESSMENT (Automated)
   └── Run assessment engine
   └── Generate readiness report
   └── Merchant reviews/approves

2. PREPARATION (Semi-Automated)
   └── Create BC store (sandbox first)
   └── Configure BC settings (currency, tax, shipping zones)
   └── Set up payment gateway in BC

3. DATA MIGRATION (Automated)
   ├── Categories (must be first - products reference them)
   ├── Products (batched, 10 at a time via BC API)
   ├── Variants (nested in product creation)
   ├── Images (BC fetches from URLs)
   ├── Customers (batched, passwords excluded)
   └── [Optional] Historical orders

4. INTEGRATION SETUP (Manual)
   └── Install WordPress plugin
   └── Configure BC API credentials
   └── Test product rendering
   └── Test cart flow
   └── Test checkout

5. URL REDIRECT MAPPING (Semi-Automated)
   └── Generate WC URL to BC URL map
   └── Create .htaccess / redirect rules
   └── Verify SEO-critical pages

6. VALIDATION (Manual + Automated)
   ├── Product count match
   ├── Variant count match
   ├── Price spot-checks
   ├── Image rendering
   ├── Cart flow test
   ├── Checkout test (sandbox)
   └── Customer login test

7. CUTOVER (Coordinated)
   └── Final delta sync (products changed since migration)
   └── DNS/redirect activation
   └── Go-live
   └── Monitor for 24-48 hours
</code></pre>
<hr>
<h2>Phase 5: Validation Framework</h2>
<h3>Automated Checks</h3>
<table>
<thead>
<tr>
<th>Check</th>
<th>Method</th>
<th>Pass Criteria</th>
</tr>
</thead>
<tbody><tr>
<td>Product count</td>
<td>Compare API counts</td>
<td>WC = BC</td>
</tr>
<tr>
<td>SKU uniqueness</td>
<td>BC API validation</td>
<td>No duplicates</td>
</tr>
<tr>
<td>Category hierarchy</td>
<td>Tree comparison</td>
<td>Structure matches</td>
</tr>
<tr>
<td>Image availability</td>
<td>HTTP HEAD checks</td>
<td>All 200 OK</td>
</tr>
<tr>
<td>Price accuracy</td>
<td>Sample comparison</td>
<td>100% match on sample</td>
</tr>
<tr>
<td>Variant completeness</td>
<td>Count per product</td>
<td>WC variants = BC variants</td>
</tr>
</tbody></table>
<h3>Manual Checks</h3>
<table>
<thead>
<tr>
<th>Check</th>
<th>Owner</th>
<th>Sign-off</th>
</tr>
</thead>
<tbody><tr>
<td>Homepage renders correctly</td>
<td>Merchant</td>
<td>Y/N</td>
</tr>
<tr>
<td>Product pages render correctly</td>
<td>Merchant</td>
<td>Y/N</td>
</tr>
<tr>
<td>Add to cart works</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Checkout completes (sandbox)</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Customer can log in</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Order appears in BC admin</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Order notification emails sent</td>
<td>QA</td>
<td>Y/N</td>
</tr>
</tbody></table>
<hr>
<h2>Technical Decisions Needed</h2>
<h3>1. What&#39;s the WordPress integration pattern?</h3>
<ul>
<li><input disabled="" type="checkbox"> Custom plugin (build from scratch)</li>
<li><input disabled="" type="checkbox"> Extend existing BC for WP plugin (if still maintained)</li>
<li><input disabled="" type="checkbox"> Headless with Next.js/Vercel in front of WP</li>
</ul>
<h3>2. Do we migrate order history?</h3>
<ul>
<li><input disabled="" type="checkbox"> No - keep in WP, accept split admin</li>
<li><input disabled="" type="checkbox"> Yes - import as read-only in BC</li>
<li><input disabled="" type="checkbox"> Hybrid - unified view via custom dashboard</li>
</ul>
<h3>3. How do we handle customer passwords?</h3>
<ul>
<li><input disabled="" type="checkbox"> Force reset on first login (standard)</li>
<li><input disabled="" type="checkbox"> Social login as alternative (reduce friction)</li>
<li><input disabled="" type="checkbox"> Magic link option (email-based auth)</li>
</ul>
<h3>4. What&#39;s the cart/checkout experience?</h3>
<ul>
<li><input disabled="" type="checkbox"> Redirect to BC hosted checkout (simplest)</li>
<li><input disabled="" type="checkbox"> Embedded BC checkout in WP (medium complexity)</li>
<li><input disabled="" type="checkbox"> Fully custom checkout via BC API (highest complexity)</li>
</ul>
<h3>5. How do we handle SEO redirects?</h3>
<ul>
<li><input disabled="" type="checkbox"> WordPress .htaccess rules</li>
<li><input disabled="" type="checkbox"> Cloudflare/CDN-level redirects</li>
<li><input disabled="" type="checkbox"> Plugin-based redirect manager</li>
</ul>
<hr>
<h2>API Rate Limits &amp; Batching</h2>
<h3>BigCommerce Limits</h3>
<ul>
<li><strong>Standard:</strong> 150 requests/30 seconds (sliding window)</li>
<li><strong>Enterprise:</strong> Higher limits negotiable</li>
<li><strong>Batch endpoints:</strong> Up to 10 items per request</li>
</ul>
<h3>Migration Batching Strategy</h3>
<pre><code class="language-python"># Pseudocode for batched product migration
BATCH_SIZE = 10
RATE_LIMIT_DELAY = 0.5  # seconds between batches

products = fetch_all_wc_products()
for batch in chunk(products, BATCH_SIZE):
    bc_products = transform_batch(batch)
    response = bc_api.products.create_batch(bc_products)
    log_results(response)
    sleep(RATE_LIMIT_DELAY)
</code></pre>
<h3>Estimated Migration Times</h3>
<table>
<thead>
<tr>
<th>Store Size</th>
<th>Products</th>
<th>Est. Time</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td>Small</td>
<td>Less than 500</td>
<td>15-30 min</td>
<td>Single batch run</td>
</tr>
<tr>
<td>Medium</td>
<td>500-5K</td>
<td>1-2 hours</td>
<td>Rate limit aware</td>
</tr>
<tr>
<td>Large</td>
<td>5K-50K</td>
<td>4-8 hours</td>
<td>May need overnight</td>
</tr>
<tr>
<td>Enterprise</td>
<td>50K+</td>
<td>12-24 hours</td>
<td>Parallel processing</td>
</tr>
</tbody></table>
<hr>
<h2>Open Questions for BigCommerce Team</h2>
<ol>
<li><strong>Is there a bulk import API</strong> beyond the batch endpoints? (CSV upload, etc.)</li>
<li><strong>What&#39;s the variant limit per product?</strong> (Docs say 600)</li>
<li><strong>Can we import orders as &quot;completed/historical&quot;</strong> without triggering fulfillment?</li>
<li><strong>Is there a sandbox environment</strong> with production-like API behavior?</li>
<li><strong>What&#39;s the customer password situation?</strong> (Confirm no migration path)</li>
<li><strong>Are there webhook limits</strong> for real-time sync scenarios?</li>
</ol>
<hr>
<h2>Next Steps</h2>
<ol>
<li><strong>Spike: Assessment Engine</strong> - Build the readiness assessment tool</li>
<li><strong>Spike: Product Migration</strong> - Migrate 100 products from test WC store to BC sandbox</li>
<li><strong>Spike: WordPress Plugin</strong> - POC for product rendering from BC API</li>
<li><strong>Decision: Integration Pattern</strong> - Choose headless vs checkout-redirect</li>
<li><strong>Decision: Order History</strong> - Determine migration strategy</li>
</ol>
<hr>
<h2>Summary: The &quot;Keep WordPress&quot; Migration</h2>
<pre><code>BEFORE                              AFTER
┌─────────────────────┐            ┌─────────────────────┐
│     WORDPRESS       │            │     WORDPRESS       │
│  ┌───────────────┐  │            │  ┌───────────────┐  │
│  │  WooCommerce  │  │            │  │  BC Bridge    │  │
│  │  (active)     │  │   ───►     │  │  (active)     │  │
│  │               │  │            │  │               │  │
│  │  Products     │  │            │  │  Products ────┼──┼──► BC API
│  │  Orders       │  │            │  │  Orders ──────┼──┼──► BC API
│  │  Customers    │  │            │  │  Customers ───┼──┼──► BC API
│  │  Checkout     │  │            │  │  Checkout ────┼──┼──► BC Hosted
│  └───────────────┘  │            │  └───────────────┘  │
│                     │            │  ┌───────────────┐  │
│  Blog, Pages,       │            │  │  WooCommerce  │  │
│  Media, Theme       │            │  │  (deactivated)│  │
│  (unchanged)        │            │  │  Historical   │  │
│                     │            │  │  data only    │  │
└─────────────────────┘            │  └───────────────┘  │
                                   │                     │
                                   │  Blog, Pages,       │
                                   │  Media, Theme       │
                                   │  (unchanged)        │
                                   └─────────────────────┘
</code></pre>
<p><strong>What migrates:</strong> Products, categories, customers (no passwords)
<strong>What stays:</strong> WordPress, theme, blog, pages, media, historical orders
<strong>What changes:</strong> Commerce operations route through BigCommerce
<strong>What the merchant sees:</strong> Same WordPress admin + new BC admin for commerce</p>
<hr>
<p><em>Document Version: 0.2</em>
<em>Last Updated: December 2025</em>
<em>Status: Draft - Technical Discovery</em>
<em>Added: WordPress Integration Layer, BC Bridge Plugin architecture</em></p>

</body>#39;, &#39;index.php?bc_category=$matches[1]&#39;, &#39;top&#39;);
</code></pre>
<p><strong>Data Flow:</strong></p>
<pre><code>┌────────────────────────────────────────────────────────────────┐
│                        VISITOR REQUEST                          │
│                     GET /product/blue-widget                    │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ▼
┌────────────────────────────────────────────────────────────────┐
│                      WORDPRESS ROUTER                           │
│            Matches rewrite rule -&gt; bc_product=blue-widget        │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ▼
┌────────────────────────────────────────────────────────────────┐
│                      BC BRIDGE PLUGIN                           │
│  1. Check cache for product data                                │
│  2. If miss: fetch from BC API by custom_url                    │
│  3. Transform to WordPress-friendly format                      │
│  4. Load template: templates/single-product.php                 │
└────────────────────────────┬───────────────────────────────────┘
                             │
                             ▼
┌────────────────────────────────────────────────────────────────┐
│                      THEME TEMPLATE                             │
│  - Uses BC Bridge template tags                                 │
│  - Renders product with theme styling                           │
│  - Add-to-cart posts to BC Storefront API                       │
└────────────────────────────────────────────────────────────────┘
</code></pre>
<h3>User/Customer Sync Strategy</h3>
<p>WordPress users and WooCommerce customers share <code>wp_users</code>. Post-migration, we need dual identity.</p>
<p><strong>Sync Approaches:</strong></p>
<table>
<thead>
<tr>
<th>Approach</th>
<th>Trigger</th>
<th>BC Customer Created</th>
<th>Complexity</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Lazy sync</strong></td>
<td>First purchase on BC</td>
<td>Yes, at checkout</td>
<td>Low</td>
</tr>
<tr>
<td><strong>Eager sync</strong></td>
<td>Migration time</td>
<td>All customers migrated</td>
<td>Medium</td>
</tr>
<tr>
<td><strong>Hybrid</strong></td>
<td>Migration + ongoing</td>
<td>Bulk + incremental</td>
<td>Medium</td>
</tr>
</tbody></table>
<p><strong>Recommended: Lazy Sync</strong></p>
<pre><code>EXISTING WP USER (hasn&#39;t purchased on BC yet)
├── wp_users.ID = 1234
├── wp_usermeta.billing_email = &quot;john@example.com&quot;
└── BC customer = NULL

USER MAKES FIRST BC PURCHASE
├── BC Bridge checks: does BC customer exist for this email?
├── No -&gt; Create BC customer via API
├── Store mapping: wp_usermeta.bc_customer_id = 98765
└── Future purchases use BC customer ID

SUBSEQUENT VISITS
├── WP session exists -&gt; check bc_customer_id
├── Fetch BC customer data (cart, addresses)
└── Render personalized experience
</code></pre>
<p><strong>Identity Mapping Table:</strong></p>
<pre><code class="language-sql">-- Optional: explicit mapping table for complex scenarios
CREATE TABLE wp_bc_customer_map (
    wp_user_id BIGINT PRIMARY KEY,
    bc_customer_id INT,
    synced_at DATETIME,
    sync_status ENUM(&#39;pending&#39;, &#39;synced&#39;, &#39;error&#39;)
);
</code></pre>
<h3>WooCommerce Deactivation Procedure</h3>
<p><strong>Critical:</strong> Deactivate, don&#39;t uninstall. WC data must remain accessible.</p>
<pre><code>PRE-DEACTIVATION CHECKLIST
├── [ ] All products migrated to BC and verified
├── [ ] BC Bridge plugin installed and tested
├── [ ] URL redirects configured (if any)
├── [ ] Customer communication sent (password reset)
├── [ ] Payment gateway configured in BC
├── [ ] Shipping methods configured in BC
├── [ ] Tax settings configured in BC
└── [ ] Staging environment tested end-to-end

## DEACTIVATION STEPS

1. Enable maintenance mode (optional)
2. Deactivate WooCommerce extensions (subscriptions, memberships, etc.)
3. Deactivate WooCommerce core plugin
4. Activate BC Bridge plugin
5. Clear all caches (object cache, page cache, CDN)
6. Test critical flows:
   - Homepage loads
   - /shop loads (from BC)
   - Product pages load (from BC)
   - Add to cart works
   - Checkout completes
7. Disable maintenance mode
8. Monitor error logs for 24-48 hours

## POST-DEACTIVATION

- WooCommerce plugin files: KEEP (don&#39;t delete)
- WC database tables: KEEP (historical data)
- WC options in wp_options: KEEP (reference)
└── WC scheduled actions: Will stop running (OK)
</code></pre>
<h3>Historical Data Access</h3>
<p>Even with WooCommerce deactivated, historical data remains queryable.</p>
<p><strong>Order Lookup (for customer service):</strong></p>
<pre><code class="language-php">// Direct database query - WC doesn&#39;t need to be active
global $wpdb;

$orders = $wpdb-&gt;get_results($wpdb-&gt;prepare(&quot;
    SELECT p.ID, p.post_date, pm.meta_value as total
    FROM {$wpdb-&gt;posts} p
    JOIN {$wpdb-&gt;postmeta} pm ON p.ID = pm.post_id AND pm.meta_key = &#39;_order_total&#39;
    WHERE p.post_type = &#39;shop_order&#39;
    AND p.post_author = %d
    ORDER BY p.post_date DESC
&quot;, $user_id));
</code></pre>
<p><strong>Admin Widget for Historical Orders:</strong></p>
<pre><code class="language-php">// Add dashboard widget showing legacy order lookup
add_action(&#39;wp_dashboard_setup&#39;, function() {
    wp_add_dashboard_widget(
        &#39;bc_legacy_orders&#39;,
        &#39;Historical Orders (Pre-Migration)&#39;,
        &#39;render_legacy_orders_widget&#39;
    );
});
</code></pre>
<h3>Theme Integration Patterns</h3>
<p><strong>Option A: Template Override (Recommended)</strong></p>
<p>BC Bridge provides templates that themes can override:</p>
<pre><code>theme/
├── bc-bridge/
│   ├── archive-product.php    ← Override listing
│   ├── single-product.php     ← Override detail
│   └── content-product.php    ← Override product card
</code></pre>
<p><strong>Option B: Shortcode-Based</strong></p>
<p>For themes that don&#39;t want template changes:</p>
<pre><code class="language-php">// In any page/template
[bc_products category=&quot;shirts&quot; limit=&quot;12&quot; columns=&quot;4&quot;]

[bc_product_detail sku=&quot;BLUE-WIDGET-001&quot;]

[bc_cart]

[bc_checkout_button text=&quot;Proceed to Checkout&quot;]
</code></pre>
<p><strong>Option C: Block-Based (Gutenberg)</strong></p>
<p>For modern block themes:</p>
<pre><code class="language-php">// Register BC blocks
register_block_type(&#39;bc-bridge/product-grid&#39;, [...]);
register_block_type(&#39;bc-bridge/product-detail&#39;, [...]);
register_block_type(&#39;bc-bridge/cart&#39;, [...]);
</code></pre>
<h3>Caching Strategy</h3>
<p>BC API calls must be cached aggressively to maintain performance.</p>
<table>
<thead>
<tr>
<th>Data Type</th>
<th>Cache TTL</th>
<th>Invalidation</th>
</tr>
</thead>
<tbody><tr>
<td>Product catalog</td>
<td>1 hour</td>
<td>Webhook on product update</td>
</tr>
<tr>
<td>Single product</td>
<td>1 hour</td>
<td>Webhook on product update</td>
</tr>
<tr>
<td>Categories</td>
<td>24 hours</td>
<td>Webhook on category update</td>
</tr>
<tr>
<td>Cart</td>
<td>No cache</td>
<td>Real-time</td>
</tr>
<tr>
<td>Customer</td>
<td>Session-based</td>
<td>On login/logout</td>
</tr>
<tr>
<td>Inventory</td>
<td>5 minutes</td>
<td>Webhook on stock change</td>
</tr>
</tbody></table>
<p><strong>Implementation:</strong></p>
<pre><code class="language-php">// Transient-based caching
function bc_get_product($slug) {
    $cache_key = &#39;bc_product_&#39; . md5($slug);
    $product = get_transient($cache_key);

    if ($product === false) {
        $product = BC_API::get_product_by_slug($slug);
        set_transient($cache_key, $product, HOUR_IN_SECONDS);
    }

    return $product;
}

// Webhook handler for cache invalidation
add_action(&#39;rest_api_init&#39;, function() {
    register_rest_route(&#39;bc-bridge/v1&#39;, &#39;/webhook&#39;, [
        &#39;methods&#39; =&gt; &#39;POST&#39;,
        &#39;callback&#39; =&gt; &#39;bc_handle_webhook&#39;,
    ]);
});

function bc_handle_webhook($request) {
    $payload = $request-&gt;get_json_params();

    if ($payload[&#39;scope&#39;] === &#39;store/product/updated&#39;) {
        $product_id = $payload[&#39;data&#39;][&#39;id&#39;];
        // Invalidate all caches for this product
        delete_transient(&#39;bc_product_&#39; . $product_id);
        // Also invalidate listing caches
        bc_invalidate_listing_caches();
    }
}
</code></pre>
<h3>Migration-Time Decisions</h3>
<table>
<thead>
<tr>
<th>Decision</th>
<th>Options</th>
<th>Recommendation</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Keep WC installed?</strong></td>
<td>Yes / No</td>
<td>Yes (deactivated)</td>
</tr>
<tr>
<td><strong>Migrate order history?</strong></td>
<td>BC / WP / Both</td>
<td>Keep in WP</td>
</tr>
<tr>
<td><strong>Customer passwords</strong></td>
<td>Reset all / Social login / Magic link</td>
<td>Reset + magic link option</td>
</tr>
<tr>
<td><strong>SEO redirects</strong></td>
<td>htaccess / plugin / CDN</td>
<td>CDN (Cloudflare)</td>
</tr>
<tr>
<td><strong>Cart persistence</strong></td>
<td>BC cart / WP session</td>
<td>BC cart (guest-friendly)</td>
</tr>
<tr>
<td><strong>Checkout location</strong></td>
<td>BC hosted / Embedded / Custom</td>
<td>BC hosted</td>
</tr>
</tbody></table>
<hr>
<h2>Phase 4: Migration Pipeline</h2>
<h3>Step-by-Step Process</h3>
<pre><code>1. ASSESSMENT (Automated)
   └── Run assessment engine
   └── Generate readiness report
   └── Merchant reviews/approves

2. PREPARATION (Semi-Automated)
   └── Create BC store (sandbox first)
   └── Configure BC settings (currency, tax, shipping zones)
   └── Set up payment gateway in BC

3. DATA MIGRATION (Automated)
   ├── Categories (must be first - products reference them)
   ├── Products (batched, 10 at a time via BC API)
   ├── Variants (nested in product creation)
   ├── Images (BC fetches from URLs)
   ├── Customers (batched, passwords excluded)
   └── [Optional] Historical orders

4. INTEGRATION SETUP (Manual)
   └── Install WordPress plugin
   └── Configure BC API credentials
   └── Test product rendering
   └── Test cart flow
   └── Test checkout

5. URL REDIRECT MAPPING (Semi-Automated)
   └── Generate WC URL to BC URL map
   └── Create .htaccess / redirect rules
   └── Verify SEO-critical pages

6. VALIDATION (Manual + Automated)
   ├── Product count match
   ├── Variant count match
   ├── Price spot-checks
   ├── Image rendering
   ├── Cart flow test
   ├── Checkout test (sandbox)
   └── Customer login test

7. CUTOVER (Coordinated)
   └── Final delta sync (products changed since migration)
   └── DNS/redirect activation
   └── Go-live
   └── Monitor for 24-48 hours
</code></pre>
<hr>
<h2>Phase 5: Validation Framework</h2>
<h3>Automated Checks</h3>
<table>
<thead>
<tr>
<th>Check</th>
<th>Method</th>
<th>Pass Criteria</th>
</tr>
</thead>
<tbody><tr>
<td>Product count</td>
<td>Compare API counts</td>
<td>WC = BC</td>
</tr>
<tr>
<td>SKU uniqueness</td>
<td>BC API validation</td>
<td>No duplicates</td>
</tr>
<tr>
<td>Category hierarchy</td>
<td>Tree comparison</td>
<td>Structure matches</td>
</tr>
<tr>
<td>Image availability</td>
<td>HTTP HEAD checks</td>
<td>All 200 OK</td>
</tr>
<tr>
<td>Price accuracy</td>
<td>Sample comparison</td>
<td>100% match on sample</td>
</tr>
<tr>
<td>Variant completeness</td>
<td>Count per product</td>
<td>WC variants = BC variants</td>
</tr>
</tbody></table>
<h3>Manual Checks</h3>
<table>
<thead>
<tr>
<th>Check</th>
<th>Owner</th>
<th>Sign-off</th>
</tr>
</thead>
<tbody><tr>
<td>Homepage renders correctly</td>
<td>Merchant</td>
<td>Y/N</td>
</tr>
<tr>
<td>Product pages render correctly</td>
<td>Merchant</td>
<td>Y/N</td>
</tr>
<tr>
<td>Add to cart works</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Checkout completes (sandbox)</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Customer can log in</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Order appears in BC admin</td>
<td>QA</td>
<td>Y/N</td>
</tr>
<tr>
<td>Order notification emails sent</td>
<td>QA</td>
<td>Y/N</td>
</tr>
</tbody></table>
<hr>
<h2>Technical Decisions Needed</h2>
<h3>1. What&#39;s the WordPress integration pattern?</h3>
<ul>
<li><input disabled="" type="checkbox"> Custom plugin (build from scratch)</li>
<li><input disabled="" type="checkbox"> Extend existing BC for WP plugin (if still maintained)</li>
<li><input disabled="" type="checkbox"> Headless with Next.js/Vercel in front of WP</li>
</ul>
<h3>2. Do we migrate order history?</h3>
<ul>
<li><input disabled="" type="checkbox"> No - keep in WP, accept split admin</li>
<li><input disabled="" type="checkbox"> Yes - import as read-only in BC</li>
<li><input disabled="" type="checkbox"> Hybrid - unified view via custom dashboard</li>
</ul>
<h3>3. How do we handle customer passwords?</h3>
<ul>
<li><input disabled="" type="checkbox"> Force reset on first login (standard)</li>
<li><input disabled="" type="checkbox"> Social login as alternative (reduce friction)</li>
<li><input disabled="" type="checkbox"> Magic link option (email-based auth)</li>
</ul>
<h3>4. What&#39;s the cart/checkout experience?</h3>
<ul>
<li><input disabled="" type="checkbox"> Redirect to BC hosted checkout (simplest)</li>
<li><input disabled="" type="checkbox"> Embedded BC checkout in WP (medium complexity)</li>
<li><input disabled="" type="checkbox"> Fully custom checkout via BC API (highest complexity)</li>
</ul>
<h3>5. How do we handle SEO redirects?</h3>
<ul>
<li><input disabled="" type="checkbox"> WordPress .htaccess rules</li>
<li><input disabled="" type="checkbox"> Cloudflare/CDN-level redirects</li>
<li><input disabled="" type="checkbox"> Plugin-based redirect manager</li>
</ul>
<hr>
<h2>API Rate Limits &amp; Batching</h2>
<h3>BigCommerce Limits</h3>
<ul>
<li><strong>Standard:</strong> 150 requests/30 seconds (sliding window)</li>
<li><strong>Enterprise:</strong> Higher limits negotiable</li>
<li><strong>Batch endpoints:</strong> Up to 10 items per request</li>
</ul>
<h3>Migration Batching Strategy</h3>
<pre><code class="language-python"># Pseudocode for batched product migration
BATCH_SIZE = 10
RATE_LIMIT_DELAY = 0.5  # seconds between batches

products = fetch_all_wc_products()
for batch in chunk(products, BATCH_SIZE):
    bc_products = transform_batch(batch)
    response = bc_api.products.create_batch(bc_products)
    log_results(response)
    sleep(RATE_LIMIT_DELAY)
</code></pre>
<h3>Estimated Migration Times</h3>
<table>
<thead>
<tr>
<th>Store Size</th>
<th>Products</th>
<th>Est. Time</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td>Small</td>
<td>Less than 500</td>
<td>15-30 min</td>
<td>Single batch run</td>
</tr>
<tr>
<td>Medium</td>
<td>500-5K</td>
<td>1-2 hours</td>
<td>Rate limit aware</td>
</tr>
<tr>
<td>Large</td>
<td>5K-50K</td>
<td>4-8 hours</td>
<td>May need overnight</td>
</tr>
<tr>
<td>Enterprise</td>
<td>50K+</td>
<td>12-24 hours</td>
<td>Parallel processing</td>
</tr>
</tbody></table>
<hr>
<h2>Open Questions for BigCommerce Team</h2>
<ol>
<li><strong>Is there a bulk import API</strong> beyond the batch endpoints? (CSV upload, etc.)</li>
<li><strong>What&#39;s the variant limit per product?</strong> (Docs say 600)</li>
<li><strong>Can we import orders as &quot;completed/historical&quot;</strong> without triggering fulfillment?</li>
<li><strong>Is there a sandbox environment</strong> with production-like API behavior?</li>
<li><strong>What&#39;s the customer password situation?</strong> (Confirm no migration path)</li>
<li><strong>Are there webhook limits</strong> for real-time sync scenarios?</li>
</ol>
<hr>
<h2>Next Steps</h2>
<ol>
<li><strong>Spike: Assessment Engine</strong> - Build the readiness assessment tool</li>
<li><strong>Spike: Product Migration</strong> - Migrate 100 products from test WC store to BC sandbox</li>
<li><strong>Spike: WordPress Plugin</strong> - POC for product rendering from BC API</li>
<li><strong>Decision: Integration Pattern</strong> - Choose headless vs checkout-redirect</li>
<li><strong>Decision: Order History</strong> - Determine migration strategy</li>
</ol>
<hr>
<h2>Summary: The &quot;Keep WordPress&quot; Migration</h2>
<pre><code>BEFORE                              AFTER
┌─────────────────────┐            ┌─────────────────────┐
│     WORDPRESS       │            │     WORDPRESS       │
│  ┌───────────────┐  │            │  ┌───────────────┐  │
│  │  WooCommerce  │  │            │  │  BC Bridge    │  │
│  │  (active)     │  │   ───►     │  │  (active)     │  │
│  │               │  │            │  │               │  │
│  │  Products     │  │            │  │  Products ────┼──┼──► BC API
│  │  Orders       │  │            │  │  Orders ──────┼──┼──► BC API
│  │  Customers    │  │            │  │  Customers ───┼──┼──► BC API
│  │  Checkout     │  │            │  │  Checkout ────┼──┼──► BC Hosted
│  └───────────────┘  │            │  └───────────────┘  │
│                     │            │  ┌───────────────┐  │
│  Blog, Pages,       │            │  │  WooCommerce  │  │
│  Media, Theme       │            │  │  (deactivated)│  │
│  (unchanged)        │            │  │  Historical   │  │
│                     │            │  │  data only    │  │
└─────────────────────┘            │  └───────────────┘  │
                                   │                     │
                                   │  Blog, Pages,       │
                                   │  Media, Theme       │
                                   │  (unchanged)        │
                                   └─────────────────────┘
</code></pre>
<p><strong>What migrates:</strong> Products, categories, customers (no passwords)
<strong>What stays:</strong> WordPress, theme, blog, pages, media, historical orders
<strong>What changes:</strong> Commerce operations route through BigCommerce
<strong>What the merchant sees:</strong> Same WordPress admin + new BC admin for commerce</p>
<hr>
<p><em>Document Version: 0.2</em>
<em>Last Updated: December 2025</em>
<em>Status: Draft - Technical Discovery</em>
<em>Added: WordPress Integration Layer, BC Bridge Plugin architecture</em></p>



<hr>


        <!-- Sidebar Navigation -->
        

        <!-- Main Content -->
        
            

            <!-- Architecture Overview -->
            <section id="overview">
                <h2>1. Architecture Overview</h2>

                <h3>1.1 System Context Diagram</h3>
                <div class="arch-diagram">
                    <pre>
┌─────────────────────────────────────────────────────────────────────────────┐
│                              <span class="layer">CUSTOMER LAYER</span>                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐           │
│  │   Web   │  │ Mobile  │  │   PWA   │  │  Kiosk  │  │ Social  │           │
│  │ Browser │  │   App   │  │         │  │         │  │Commerce │           │
│  └────┬────┘  └────┬────┘  └────┬────┘  └────┬────┘  └────┬────┘           │
│       │            │            │            │            │                  │
└───────┴────────────┴────────────┴────────────┴────────────┴──────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                           <span class="layer">EDGE LAYER (VERCEL)</span>                                │
├─────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                      <span class="component">CATALYST (NEXT.JS 14)</span>                          │   │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐              │   │
│  │  │   Makeswift  │  │    React     │  │   Edge       │              │   │
│  │  │   Runtime    │  │  Components  │  │  Functions   │              │   │
│  │  └──────────────┘  └──────────────┘  └──────────────┘              │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                              │
│  CDN: Vercel Edge Network (300+ global PoPs)                                │
│  Cache: ISR + Edge Cache + Stale-While-Revalidate                           │
└─────────────────────────────────────────────────────────────────────────────┘
                    │                               │
          ┌─────────┴─────────┐           ┌────────┴────────┐
          ▼                   ▼           ▼                 ▼
┌─────────────────────┐ ┌─────────────────────┐ ┌─────────────────────┐
│    <span class="component">BIGCOMMERCE</span>      │ │     <span class="component">WORDPRESS</span>       │ │    <span class="component">FEEDONOMICS</span>      │
│    (COMMERCE)       │ │     (CONTENT)       │ │      (DATA)         │
├─────────────────────┤ ├─────────────────────┤ ├─────────────────────┤
│ • Products          │ │ • Blog Posts        │ │ • ETL Engine        │
│ • Orders            │ │ • Landing Pages     │ │ • Channel Sync      │
│ • Customers         │ │ • Media Library     │ │ • Inventory Mgmt    │
│ • Checkout          │ │ • Custom Posts      │ │ • Feed Optimization │
│ • B2B Features      │ │ • SEO Content       │ │                     │
└─────────────────────┘ └─────────────────────┘ └─────────────────────┘
         │                       │                        │
         └───────────────────────┴────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                         <span class="layer">INTEGRATION LAYER</span>                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐          │
│  │   ERP    │ │   OMS    │ │ Payments │ │  Email   │ │ Reviews  │          │
│  │ NetSuite │ │ShipStation│ │  Stripe  │ │ Klaviyo  │ │  Yotpo   │          │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘ └──────────┘          │
└─────────────────────────────────────────────────────────────────────────────┘</pre>
                </div>

                <h3>1.2 Component Responsibilities</h3>
                <div class="component-grid">
                    <div class="component-card">
                        <h4>Catalyst</h4>
                        <div class="owner">Commerce.com</div>
                        <p>Frontend rendering, routing, SSR/ISR</p>
                    </div>
                    <div class="component-card">
                        <h4>Makeswift</h4>
                        <div class="owner">Commerce.com</div>
                        <p>Visual editing, page composition</p>
                    </div>
                    <div class="component-card">
                        <h4>BigCommerce</h4>
                        <div class="owner">Commerce.com</div>
                        <p>Commerce data, checkout, APIs</p>
                    </div>
                    <div class="component-card">
                        <h4>WordPress</h4>
                        <div class="owner">WPEngine</div>
                        <p>Content management, blog</p>
                    </div>
                    <div class="component-card">
                        <h4>WPGraphQL</h4>
                        <div class="owner">Open Source</div>
                        <p>WordPress headless API</p>
                    </div>
                    <div class="component-card">
                        <h4>Feedonomics</h4>
                        <div class="owner">Commerce.com</div>
                        <p>Data sync, channel management</p>
                    </div>
                </div>
            </section>

            <!-- API Specifications -->
            <section id="apis">
                <h2>2. API Specifications</h2>

                <h3>2.1 BigCommerce GraphQL Storefront API</h3>
                <div class="info-box">
                    <h4>Endpoint</h4>
                    <p><code>https://store-{hash}.mybigcommerce.com/graphql</code></p>
                </div>

                <p><strong>Authentication:</strong> Bearer token (Storefront API Token)</p>

                <div class="api-block">
                    <div class="api-header">
                        <span class="api-method post">POST</span>
                        <span class="api-endpoint">/graphql - Product Listing</span>
                    </div>
                    <div class="api-body">
                        <pre><code><span class="keyword">query</span> <span class="function">GetProducts</span>(<span class="type">$first</span>: Int!, <span class="type">$after</span>: String) {
  site {
    products(first: <span class="type">$first</span>, after: <span class="type">$after</span>) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        node {
          entityId
          name
          sku
          path
          prices {
            price { value currencyCode }
            salePrice { value currencyCode }
          }
          defaultImage {
            url(width: 500)
            altText
          }
        }
      }
    }
  }
}</code></pre>
                    </div>
                </div>

                <div class="api-block">
                    <div class="api-header">
                        <span class="api-method post">POST</span>
                        <span class="api-endpoint">/graphql - Cart Operations</span>
                    </div>
                    <div class="api-body">
                        <pre><code><span class="keyword">mutation</span> <span class="function">AddToCart</span>(<span class="type">$cartId</span>: String!, <span class="type">$lineItems</span>: [CartLineItemInput!]!) {
  cart {
    addCartLineItems(input: {
      cartEntityId: <span class="type">$cartId</span>
      data: { lineItems: <span class="type">$lineItems</span> }
    }) {
      cart {
        entityId
        lineItems {
          physicalItems {
            entityId
            quantity
            productEntityId
          }
        }
      }
    }
  }
}</code></pre>
                    </div>
                </div>

                <h4>Rate Limits</h4>
                <table>
                    <thead>
                        <tr><th>Tier</th><th>Limit</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Standard</td><td>150 requests/second</td></tr>
                        <tr><td>Enterprise</td><td>Unlimited (with agreement)</td></tr>
                    </tbody>
                </table>

                <h3>2.2 WordPress GraphQL API (WPGraphQL)</h3>
                <div class="info-box">
                    <h4>Endpoint</h4>
                    <p><code>https://content.example.com/graphql</code></p>
                </div>

                <p><strong>Authentication:</strong> Optional (public queries), JWT for mutations</p>

                <div class="api-block">
                    <div class="api-header">
                        <span class="api-method post">POST</span>
                        <span class="api-endpoint">/graphql - Blog Posts</span>
                    </div>
                    <div class="api-body">
                        <pre><code><span class="keyword">query</span> <span class="function">GetPosts</span>(<span class="type">$first</span>: Int!, <span class="type">$after</span>: String) {
  posts(first: <span class="type">$first</span>, after: <span class="type">$after</span>) {
    pageInfo {
      hasNextPage
      endCursor
    }
    nodes {
      id
      databaseId
      title
      slug
      date
      excerpt
      content
      featuredImage {
        node {
          sourceUrl
          altText
        }
      }
      seo {
        title
        metaDesc
        canonical
      }
    }
  }
}</code></pre>
                    </div>
                </div>

                <h3>2.3 Feedonomics API</h3>
                <div class="info-box">
                    <h4>Endpoint</h4>
                    <p><code>https://api.feedonomics.com/v2/</code></p>
                </div>

                <div class="api-block">
                    <div class="api-header">
                        <span class="api-method post">POST</span>
                        <span class="api-endpoint">/feeds/{feed_id}/sync</span>
                    </div>
                    <div class="api-body">
                        <pre><code><span class="comment"># Trigger sync</span>
POST /feeds/{feed_id}/sync
Authorization: Bearer {api_key}

<span class="comment"># Get sync status</span>
GET /feeds/{feed_id}/status
Authorization: Bearer {api_key}

<span class="comment"># Get error report</span>
GET /feeds/{feed_id}/errors
Authorization: Bearer {api_key}</code></pre>
                    </div>
                </div>
            </section>

            <!-- Data Flows -->
            <section id="data-flows">
                <h2>3. Data Flow Specifications</h2>

                <h3>3.1 Product Data Flow</h3>
                <div class="flow-diagram">
                    <div class="flow-row">
                        <div class="flow-box">
                            <h5>WooCommerce</h5>
                            <p>Source</p>
                        </div>
                        <span class="flow-arrow">→</span>
                        <div class="flow-box">
                            <h5>Feedonomics</h5>
                            <p>ETL</p>
                        </div>
                        <span class="flow-arrow">→</span>
                        <div class="flow-box">
                            <h5>BigCommerce</h5>
                            <p>Destination</p>
                        </div>
                    </div>
                </div>

                <h4>Transformation Rules</h4>
                <table>
                    <thead>
                        <tr><th>Source Field</th><th>Transform</th><th>Destination Field</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>post_title</code></td><td>Trim, 255 char limit</td><td><code>name</code></td></tr>
                        <tr><td><code>post_content</code></td><td>Strip shortcodes, clean HTML</td><td><code>description</code></td></tr>
                        <tr><td><code>_regular_price</code></td><td>Float, 2 decimal</td><td><code>price</code></td></tr>
                        <tr><td><code>_sale_price</code></td><td>Float, 2 decimal, nullable</td><td><code>sale_price</code></td></tr>
                        <tr><td><code>_sku</code></td><td>Uppercase, alphanumeric</td><td><code>sku</code></td></tr>
                        <tr><td><code>_stock</code></td><td>Integer</td><td><code>inventory_level</code></td></tr>
                        <tr><td><code>product_cat</code></td><td>Map to BC category ID</td><td><code>categories</code></td></tr>
                    </tbody>
                </table>

                <h3>3.2 Order Data Flow</h3>
                <div class="flow-diagram">
                    <div class="flow-row">
                        <div class="flow-box">
                            <h5>Customer</h5>
                            <p>Browser</p>
                        </div>
                        <span class="flow-arrow">→</span>
                        <div class="flow-box">
                            <h5>BigCommerce</h5>
                            <p>Checkout</p>
                        </div>
                        <span class="flow-arrow">→</span>
                        <div class="flow-box">
                            <h5>Webhooks</h5>
                            <p>Events</p>
                        </div>
                    </div>
                </div>

                <h4>Webhook Events</h4>
                <table>
                    <thead>
                        <tr><th>Event</th><th>Payload</th><th>Subscribers</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>store/order/created</code></td><td>Full order object</td><td>ERP, OMS, Email</td></tr>
                        <tr><td><code>store/order/updated</code></td><td>Order delta</td><td>ERP</td></tr>
                        <tr><td><code>store/order/statusUpdated</code></td><td>Status change</td><td>Email, Analytics</td></tr>
                        <tr><td><code>store/shipment/created</code></td><td>Shipment details</td><td>Email</td></tr>
                        <tr><td><code>store/customer/created</code></td><td>Customer object</td><td>Email, CDP</td></tr>
                    </tbody>
                </table>

                <h3>3.3 Cache Invalidation Strategy</h3>
                <pre><code><span class="comment">// pages/api/revalidate.ts</span>
<span class="keyword">export default async function</span> <span class="function">handler</span>(req, res) {
  <span class="keyword">if</span> (req.query.secret !== process.env.REVALIDATION_SECRET) {
    <span class="keyword">return</span> res.status(401).json({ message: <span class="string">'Invalid token'</span> });
  }

  <span class="keyword">const</span> path = req.query.path;

  <span class="keyword">try</span> {
    <span class="keyword">await</span> res.revalidate(path);
    <span class="keyword">return</span> res.json({ revalidated: <span class="keyword">true</span> });
  } <span class="keyword">catch</span> (err) {
    <span class="keyword">return</span> res.status(500).send(<span class="string">'Error revalidating'</span>);
  }
}</code></pre>
            </section>

            <!-- Infrastructure -->
            <section id="infrastructure">
                <h2>4. Infrastructure Specifications</h2>

                <h3>4.1 Vercel Configuration</h3>
                <pre><code><span class="comment">// vercel.json</span>
{
  <span class="string">"framework"</span>: <span class="string">"nextjs"</span>,
  <span class="string">"regions"</span>: [<span class="string">"iad1"</span>, <span class="string">"sfo1"</span>, <span class="string">"fra1"</span>, <span class="string">"hnd1"</span>],
  <span class="string">"headers"</span>: [
    {
      <span class="string">"source"</span>: <span class="string">"/(.*)"</span>,
      <span class="string">"headers"</span>: [
        { <span class="string">"key"</span>: <span class="string">"X-Content-Type-Options"</span>, <span class="string">"value"</span>: <span class="string">"nosniff"</span> },
        { <span class="string">"key"</span>: <span class="string">"X-Frame-Options"</span>, <span class="string">"value"</span>: <span class="string">"DENY"</span> },
        { <span class="string">"key"</span>: <span class="string">"X-XSS-Protection"</span>, <span class="string">"value"</span>: <span class="string">"1; mode=block"</span> }
      ]
    }
  ]
}</code></pre>

                <h4>Environment Variables</h4>
                <table class="env-table">
                    <thead>
                        <tr><th>Variable</th><th>Description</th><th>Source</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>BIGCOMMERCE_STORE_HASH</code></td><td>Store identifier</td><td>BigCommerce</td></tr>
                        <tr><td><code>BIGCOMMERCE_ACCESS_TOKEN</code></td><td>Storefront API token</td><td>BigCommerce</td></tr>
                        <tr><td><code>BIGCOMMERCE_CHANNEL_ID</code></td><td>Channel for this storefront</td><td>BigCommerce</td></tr>
                        <tr><td><code>WP_GRAPHQL_URL</code></td><td>WordPress GraphQL endpoint</td><td>WPEngine</td></tr>
                        <tr><td><code>MAKESWIFT_SITE_API_KEY</code></td><td>Makeswift integration</td><td>Makeswift</td></tr>
                        <tr><td><code>REVALIDATION_SECRET</code></td><td>ISR revalidation token</td><td>Self-generated</td></tr>
                    </tbody>
                </table>

                <h3>4.2 WordPress/WPEngine Configuration</h3>
                <h4>Required Plugins</h4>
                <ul>
                    <li>WPGraphQL (core)</li>
                    <li>WPGraphQL for ACF (if using ACF)</li>
                    <li>WPGraphQL SEO (for Yoast data)</li>
                    <li>WP Webhooks (for cache invalidation)</li>
                </ul>

                <h4>Performance Settings</h4>
                <pre><code><span class="comment">// wp-config.php additions</span>
<span class="function">define</span>(<span class="string">'WP_MEMORY_LIMIT'</span>, <span class="string">'256M'</span>);
<span class="function">define</span>(<span class="string">'WP_MAX_MEMORY_LIMIT'</span>, <span class="string">'512M'</span>);
<span class="function">define</span>(<span class="string">'GRAPHQL_DEBUG'</span>, <span class="keyword">false</span>);</code></pre>
            </section>

            <!-- Security -->
            <section id="security">
                <h2>5. Security Architecture</h2>

                <h3>5.1 API Security</h3>
                <table>
                    <thead>
                        <tr><th>Endpoint Type</th><th>Authentication</th><th>Rate Limiting</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Storefront GraphQL</td><td>Storefront Token</td><td>Per-channel</td></tr>
                        <tr><td>Management API</td><td>OAuth / API Key</td><td>Per-app</td></tr>
                        <tr><td>WordPress GraphQL</td><td>Optional JWT</td><td>Per-IP</td></tr>
                        <tr><td>Webhooks</td><td>HMAC signature</td><td>N/A</td></tr>
                    </tbody>
                </table>

                <h4>Webhook Verification</h4>
                <pre><code><span class="keyword">import</span> crypto <span class="keyword">from</span> <span class="string">'crypto'</span>;

<span class="keyword">function</span> <span class="function">verifyWebhook</span>(payload: <span class="type">string</span>, signature: <span class="type">string</span>, secret: <span class="type">string</span>): <span class="type">boolean</span> {
  <span class="keyword">const</span> hmac = crypto.createHmac(<span class="string">'sha256'</span>, secret);
  <span class="keyword">const</span> digest = hmac.update(payload).digest(<span class="string">'base64'</span>);
  <span class="keyword">return</span> crypto.timingSafeEqual(Buffer.from(signature), Buffer.from(digest));
}</code></pre>

                <h3>5.2 PCI Compliance</h3>
                <table>
                    <thead>
                        <tr><th>Requirement</th><th>Implementation</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Cardholder data storage</td><td>Never stored (BigCommerce handles)</td></tr>
                        <tr><td>Transmission encryption</td><td>TLS 1.3 everywhere</td></tr>
                        <tr><td>Access control</td><td>Role-based, audited</td></tr>
                        <tr><td>Vulnerability management</td><td>Automated scanning</td></tr>
                        <tr><td>Network security</td><td>WAF (Vercel/Cloudflare)</td></tr>
                    </tbody>
                </table>
            </section>

            <!-- Performance -->
            <section id="performance">
                <h2>6. Performance Specifications</h2>

                <h3>6.1 Target Metrics</h3>
                <div class="metric-grid">
                    <div class="metric-card">
                        <div class="value">&lt;2.5s</div>
                        <div class="label">LCP</div>
                    </div>
                    <div class="metric-card">
                        <div class="value">&lt;100ms</div>
                        <div class="label">FID</div>
                    </div>
                    <div class="metric-card">
                        <div class="value">&lt;0.1</div>
                        <div class="label">CLS</div>
                    </div>
                    <div class="metric-card">
                        <div class="value">&lt;200ms</div>
                        <div class="label">TTFB</div>
                    </div>
                    <div class="metric-card">
                        <div class="value">&lt;500ms</div>
                        <div class="label">API P95</div>
                    </div>
                </div>

                <h3>6.2 Caching Strategy</h3>
                <table>
                    <thead>
                        <tr><th>Layer</th><th>TTL</th><th>Invalidation</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Vercel Edge Cache</td><td>1 hour</td><td>On-demand revalidation</td></tr>
                        <tr><td>ISR (Next.js)</td><td>60 seconds</td><td>Webhook trigger</td></tr>
                        <tr><td>Browser Cache</td><td>1 day (static assets)</td><td>Versioned URLs</td></tr>
                        <tr><td>API Response Cache</td><td>5 minutes</td><td>Cache-Control header</td></tr>
                    </tbody>
                </table>

                <h4>ISR Configuration</h4>
                <pre><code><span class="comment">// pages/products/[slug].tsx</span>
<span class="keyword">export async function</span> <span class="function">getStaticProps</span>({ params }) {
  <span class="keyword">const</span> product = <span class="keyword">await</span> getProduct(params.slug);
  <span class="keyword">return</span> {
    props: { product },
    revalidate: 60, <span class="comment">// Revalidate every 60 seconds</span>
  };
}

<span class="keyword">export async function</span> <span class="function">getStaticPaths</span>() {
  <span class="keyword">const</span> products = <span class="keyword">await</span> getTopProducts(100);
  <span class="keyword">return</span> {
    paths: products.map(p => ({ params: { slug: p.slug } })),
    fallback: <span class="string">'blocking'</span>, <span class="comment">// Generate on-demand for other products</span>
  };
}</code></pre>
            </section>

            <!-- Monitoring -->
            <section id="monitoring">
                <h2>7. Monitoring & Observability</h2>

                <h3>7.1 Monitoring Stack</h3>
                <table>
                    <thead>
                        <tr><th>Layer</th><th>Tool</th><th>Metrics</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Application</td><td>Sentry</td><td>Errors, traces</td></tr>
                        <tr><td>Infrastructure</td><td>Vercel Analytics</td><td>Requests, bandwidth</td></tr>
                        <tr><td>Performance</td><td>Vercel Speed Insights</td><td>Core Web Vitals</td></tr>
                        <tr><td>Commerce</td><td>BigCommerce Analytics</td><td>Orders, revenue</td></tr>
                        <tr><td>Uptime</td><td>Pingdom / UptimeRobot</td><td>Availability</td></tr>
                    </tbody>
                </table>

                <h3>7.2 Alerting Rules</h3>
                <table>
                    <thead>
                        <tr><th>Condition</th><th>Severity</th><th>Action</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Error rate > 5%</td><td>Critical</td><td>Page on-call</td></tr>
                        <tr><td>P95 latency > 2s</td><td>High</td><td>Slack alert</td></tr>
                        <tr><td>Checkout failure > 1%</td><td>Critical</td><td>Page on-call</td></tr>
                        <tr><td>5xx errors > 10/min</td><td>High</td><td>Slack alert</td></tr>
                        <tr><td>Uptime < 99.9%</td><td>Critical</td><td>Page on-call</td></tr>
                    </tbody>
                </table>
            </section>

            <!-- Disaster Recovery -->
            <section id="disaster-recovery">
                <h2>8. Disaster Recovery</h2>

                <h3>8.1 Backup Strategy</h3>
                <table>
                    <thead>
                        <tr><th>Component</th><th>Frequency</th><th>Retention</th><th>Location</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>BigCommerce data</td><td>Automatic</td><td>30 days</td><td>BC infrastructure</td></tr>
                        <tr><td>WordPress database</td><td>Daily</td><td>30 days</td><td>WPEngine</td></tr>
                        <tr><td>WordPress media</td><td>Daily</td><td>30 days</td><td>WPEngine</td></tr>
                        <tr><td>Catalyst code</td><td>Git</td><td>Unlimited</td><td>GitHub</td></tr>
                    </tbody>
                </table>

                <h3>8.2 Recovery Procedures</h3>
                <h4>Catalyst Rollback</h4>
                <pre><code><span class="comment"># Rollback to previous deployment</span>
vercel rollback [deployment-url]</code></pre>

                <h4>WordPress Restoration</h4>
                <ul>
                    <li>WPEngine provides one-click restore from backups</li>
                    <li>Point-in-time recovery available</li>
                </ul>

                <h3>8.3 RTO/RPO Targets</h3>
                <table>
                    <thead>
                        <tr><th>Scenario</th><th>RTO</th><th>RPO</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Frontend outage</td><td>15 minutes</td><td>0 (stateless)</td></tr>
                        <tr><td>WordPress outage</td><td>1 hour</td><td>24 hours</td></tr>
                        <tr><td>BigCommerce outage</td><td>Dependent on BC</td><td>Dependent on BC</td></tr>
                        <tr><td>Full disaster</td><td>4 hours</td><td>24 hours</td></tr>
                    </tbody>
                </table>
            </section>

            <!-- Document Metadata -->
            <div style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 8px; padding: 24px; margin-top: 48px;">
                <h4 style="margin-top: 0; font-size: 12px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px;">Document Metadata</h4>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-top: 16px; font-size: 13px;">
                    <div><span style="color: var(--text-muted);">Author:</span> <span style="color: var(--text-secondary);">Architecture Team</span></div>
                    <div><span style="color: var(--text-muted);">Classification:</span> <span style="color: var(--text-secondary);">Technical Reference</span></div>
                    <div><span style="color: var(--text-muted);">Version:</span> <span style="color: var(--text-secondary);">1.0</span></div>
                    <div><span style="color: var(--text-muted);">Last Updated:</span> <span style="color: var(--text-secondary);">December 2025</span></div>
                </div>
                <p style="margin-top: 24px; padding-top: 16px; border-top: 1px solid var(--border-color); font-size: 12px; font-style: italic; color: var(--text-muted);">This specification is authoritative for technical implementation decisions.</p>
            </div>
        
    </div>

    <!-- What's Next Section -->
    <section class="whats-next">
        <div class="whats-next-content">
            <div class="whats-next-label">Continue the Journey</div>
            <h2 class="whats-next-title">Next: Project Roadmap</h2>

            <a href="PROJECT_ROADMAP.html" class="next-card">
                <div class="next-card-content">
                    <div class="next-card-label">Step 3 of 4</div>
                    <div class="next-card-title">Project Roadmap</div>
                    <div class="next-card-desc">Phased delivery plan, milestones, success criteria, and resource allocation for the migration initiative.</div>
                </div>
                <div class="next-card-arrow">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                </div>
            </a>

            <div class="related-section">
                <div class="related-label">Or explore related:</div>
                <div class="related-links">
                    <a href="PRODUCT_STRATEGY.html" class="related-link">Product Strategy</a>
                    <a href="IMPLEMENTATION_PLAYBOOK.html" class="related-link">Implementation Playbook</a>
                    <a href="../STRATEGIC_ASSESSMENT.html" class="related-link">Back to Assessment</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Sequence Navigation Bar -->
    <div class="sequence-nav">
        <a href="PRODUCT_STRATEGY.html" class="sequence-link prev">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
            <div class="sequence-text">
                <span class="sequence-label">Previous</span>
                <span class="sequence-title">Product Strategy</span>
            </div>
        </a>
        <div class="sequence-position">
            <span class="sequence-current">2</span>
            <span class="sequence-total">/ 4</span>
        </div>
        <a href="PROJECT_ROADMAP.html" class="sequence-link next">
            <div class="sequence-text">
                <span class="sequence-label">Next</span>
                <span class="sequence-title">Project Roadmap</span>
            </div>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </a>
    </div>
</body>
</html>